const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-C7rj01Y1.js","assets/chunks/chunk-DYmNDkTl.js","assets/chunks/chunk-BaW1DF7P.js","assets/static/vike-react-b64a028b.BcWtY8Ol.css","assets/static/layouts_style-b34a8e57.a91n6qlS.css"])))=>i.map(i=>d[i]);
import{B as _,k as he,d as Se,e as re,t as ae,h as K,f as J,l as Me,m as $e,n as G,p as qe,C as Ae,q as Oe,s as we,U as be,T as He,v as D,w as Le,x as P,y as je,z as ze,A as U,D as Ue,E as Z,G as ge,H as xe,I as De,J as Ke,K as Ve,M as Qe,N as We,O as Xe,P as Pe,Q as Ye,R as Te,S as Je,V as Ze,X as se,Y as X,Z as et,_ as tt,$ as oe,a0 as nt,a1 as rt,a2 as at,a3 as st,a4 as ot,a5 as it,a6 as ct,a7 as ut,a8 as dt,a9 as j,aa as lt,ab as pt,ac as ft,ad as Ce,ae as ee,af as te,ag as Fe,ah as mt,ai as yt,aj as ht,ak as ie,al as ce,am as wt,u as bt,r as O,an as gt,j as I}from"./chunk-DYmNDkTl.js";import{_ as xt}from"./chunk-BaW1DF7P.js";class ke extends _{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class V extends _{constructor({docsPath:t,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}}function Pt(e){const t=he(`0x${e.substring(4)}`).substring(26);return Se(`0x${t}`)}async function Tt({hash:e,signature:t}){const r=re(e)?e:ae(e),{secp256k1:n}=await xt(async()=>{const{secp256k1:o}=await import("./chunk-C7rj01Y1.js");return{secp256k1:o}},__vite__mapDeps([0,1,2,3,4]));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:i,s:p,v:d,yParity:u}=t,h=Number(u??d),f=ue(h);return new n.Signature(K(i),K(p)).addRecoveryBit(f)}const o=re(t)?t:ae(t),l=J(`0x${o.slice(130)}`),c=ue(l);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function ue(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Ct({hash:e,signature:t}){return Pt(await Tt({hash:e,signature:t}))}function Ft(e){const{chainId:t,nonce:r,to:n}=e,a=e.contractAddress??e.address,s=he(Me(["0x05",$e([t?G(t):"0x",a,r?G(r):"0x"])]));return n==="bytes"?qe(s):s}async function Be(e){const{authorization:t,signature:r}=e;return Ct({hash:Ft(t),signature:r??t})}function kt({chain:e,currentChainId:t}){if(!e)throw new Ae;if(t!==e.id)throw new Oe({chain:e,currentChainId:t})}function Bt(e,{docsPath:t,...r}){const n=(()=>{const a=we(e,r);return a instanceof be?e:a})();return new He(n,{docsPath:t,...r})}async function Ee(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return J(t)}class Et extends _{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class ne extends _{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class It extends _{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${D(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ie extends _{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function z(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:a}={}){var p,d,u;const s=n??"latest",o=a??!1,l=r!==void 0?G(r):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[l||s,o]},{dedupe:!!l}),!c)throw new Ie({blockHash:t,blockNumber:r});return(((u=(d=(p=e.chain)==null?void 0:p.formatters)==null?void 0:d.block)==null?void 0:u.format)||Le)(c)}async function ve(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function vt(e,t){var s,o;const{block:r,chain:n=e.chain,request:a}=t||{};try{const l=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=n==null?void 0:n.fees)==null?void 0:o.defaultPriorityFee);if(typeof l=="function"){const i=r||await P(e,z,"getBlock")({}),p=await l({block:i,client:e,request:a});if(p===null)throw new Error;return p}if(typeof l<"u")return l;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return K(c)}catch{const[l,c]=await Promise.all([r?Promise.resolve(r):P(e,z,"getBlock")({}),P(e,ve,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new ne;const i=c-l.baseFeePerGas;return i<0n?0n:i}}async function de(e,t){var u,h;const{block:r,chain:n=e.chain,request:a,type:s="eip1559"}=t||{},o=await(async()=>{var f,b;return typeof((f=n==null?void 0:n.fees)==null?void 0:f.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:a}):((b=n==null?void 0:n.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(o<1)throw new Et;const c=10**(((u=o.toString().split(".")[1])==null?void 0:u.length)??0),i=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),p=r||await P(e,z,"getBlock")({});if(typeof((h=n==null?void 0:n.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const f=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:i,request:a,type:s});if(f!==null)return f}if(s==="eip1559"){if(typeof p.baseFeePerGas!="bigint")throw new ne;const f=typeof(a==null?void 0:a.maxPriorityFeePerGas)=="bigint"?a.maxPriorityFeePerGas:await vt(e,{block:p,chain:n,request:a}),b=i(p.baseFeePerGas);return{maxFeePerGas:(a==null?void 0:a.maxFeePerGas)??b+f,maxPriorityFeePerGas:f}}return{gasPrice:(a==null?void 0:a.gasPrice)??i(await P(e,ve,"getGasPrice")({}))}}class Nt extends _{constructor(t,{account:r,docsPath:n,chain:a,data:s,gas:o,gasPrice:l,maxFeePerGas:c,maxPriorityFeePerGas:i,nonce:p,to:d,value:u}){var f;const h=je({from:r==null?void 0:r.address,to:d,value:typeof u<"u"&&`${ze(u)} ${((f=a==null?void 0:a.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof l<"u"&&`${D(l)} gwei`,maxFeePerGas:typeof c<"u"&&`${D(c)} gwei`,maxPriorityFeePerGas:typeof i<"u"&&`${D(i)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Gt(e,{docsPath:t,...r}){const n=(()=>{const a=we(e,r);return a instanceof be?e:a})();return new Nt(n,{docsPath:t,...r})}async function _t(e,{address:t,blockNumber:r,blockTag:n="latest"}){const a=r?G(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,a||n]});return BigInt(s)}async function Rt(e,t){var a,s,o;const{account:r=e.account}=t,n=r?U(r):void 0;try{let $=function(H){const{block:q,request:S,rpcStateOverride:A}=H;return e.request({method:"eth_estimateGas",params:A?[S,q??"latest",A]:q?[S,q]:[S]})};const{accessList:l,authorizationList:c,blobs:i,blobVersionedHashes:p,blockNumber:d,blockTag:u,data:h,gas:f,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:m,nonce:g,value:R,stateOverride:C,...x}=await Ge(e,{...t,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),E=(d?G(d):void 0)||u,T=Ue(C),v=await(async()=>{if(x.to)return x.to;if(c&&c.length>0)return await Be({authorization:c[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`")})})();Z(t);const k=(o=(s=(a=e.chain)==null?void 0:a.formatters)==null?void 0:s.transactionRequest)==null?void 0:o.format,B=(k||ge)({...xe(x,{format:k}),from:n==null?void 0:n.address,accessList:l,authorizationList:c,blobs:i,blobVersionedHashes:p,data:h,gas:f,gasPrice:b,maxFeePerBlobGas:y,maxFeePerGas:w,maxPriorityFeePerGas:m,nonce:g,to:v,value:R});let N=BigInt(await $({block:E,request:B,rpcStateOverride:T}));if(c){const H=await _t(e,{address:B.from}),q=await Promise.all(c.map(async S=>{const{address:A}=S,Re=await $({block:E,request:{authorizationList:void 0,data:h,from:n==null?void 0:n.address,to:A,value:G(H)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(Re)}));N+=q.reduce((S,A)=>S+A,0n)}return N}catch(l){throw Gt(l,{...t,account:n,chain:e.chain})}}async function St(e,{address:t,blockTag:r="latest",blockNumber:n}){const a=await e.request({method:"eth_getTransactionCount",params:[t,n?G(n):r]},{dedupe:!!n});return J(a)}const Ne=["blobVersionedHashes","chainId","fees","gas","nonce","type"],le=new Map;async function Ge(e,t){const{account:r=e.account,blobs:n,chain:a,gas:s,kzg:o,nonce:l,nonceManager:c,parameters:i=Ne,type:p}=t,d=r&&U(r),u={...t,...d?{from:d==null?void 0:d.address}:{}};let h;async function f(){return h||(h=await P(e,z,"getBlock")({blockTag:"latest"}),h)}let b;async function y(){return b||(a?a.id:typeof t.chainId<"u"?t.chainId:(b=await P(e,Ee,"getChainId")({}),b))}if(i.includes("nonce")&&typeof l>"u"&&d)if(c){const w=await y();u.nonce=await c.consume({address:d.address,chainId:w,client:e})}else u.nonce=await P(e,St,"getTransactionCount")({address:d.address,blockTag:"pending"});if((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&n&&o){const w=De({blobs:n,kzg:o});if(i.includes("blobVersionedHashes")){const m=Ke({commitments:w,to:"hex"});u.blobVersionedHashes=m}if(i.includes("sidecars")){const m=Ve({blobs:n,commitments:w,kzg:o}),g=Qe({blobs:n,commitments:w,proofs:m,to:"hex"});u.sidecars=g}}if(i.includes("chainId")&&(u.chainId=await y()),(i.includes("fees")||i.includes("type"))&&typeof p>"u")try{u.type=We(u)}catch{let w=le.get(e.uid);if(typeof w>"u"){const m=await f();w=typeof(m==null?void 0:m.baseFeePerGas)=="bigint",le.set(e.uid,w)}u.type=w?"eip1559":"legacy"}if(i.includes("fees"))if(u.type!=="legacy"&&u.type!=="eip2930"){if(typeof u.maxFeePerGas>"u"||typeof u.maxPriorityFeePerGas>"u"){const w=await f(),{maxFeePerGas:m,maxPriorityFeePerGas:g}=await de(e,{block:w,chain:a,request:u});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<g)throw new It({maxPriorityFeePerGas:g});u.maxPriorityFeePerGas=g,u.maxFeePerGas=m}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new ne;if(typeof t.gasPrice>"u"){const w=await f(),{gasPrice:m}=await de(e,{block:w,chain:a,request:u,type:"legacy"});u.gasPrice=m}}return i.includes("gas")&&typeof s>"u"&&(u.gas=await P(e,Rt,"estimateGas")({...u,account:d&&{address:d.address,type:"json-rpc"}})),Z(u),delete u.parameters,u}async function Mt(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Q=new Xe(128);async function $t(e,t){var w,m,g,R;const{account:r=e.account,chain:n=e.chain,accessList:a,authorizationList:s,blobs:o,data:l,gas:c,gasPrice:i,maxFeePerBlobGas:p,maxFeePerGas:d,maxPriorityFeePerGas:u,nonce:h,value:f,...b}=t;if(typeof r>"u")throw new ke({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?U(r):null;try{Z(t);const C=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await Be({authorization:s[0]}).catch(()=>{throw new _("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let x;n!==null&&(x=await P(e,Ee,"getChainId")({}),kt({currentChainId:x,chain:n}));const F=(g=(m=(w=e.chain)==null?void 0:w.formatters)==null?void 0:m.transactionRequest)==null?void 0:g.format,T=(F||ge)({...xe(b,{format:F}),accessList:a,authorizationList:s,blobs:o,chainId:x,data:l,from:y==null?void 0:y.address,gas:c,gasPrice:i,maxFeePerBlobGas:p,maxFeePerGas:d,maxPriorityFeePerGas:u,nonce:h,to:C,value:f}),v=Q.get(e.uid),k=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:k,params:[T]},{retryCount:0})}catch(M){if(v===!1)throw M;const B=M;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then($=>(Q.set(e.uid,!0),$)).catch($=>{const N=$;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(Q.set(e.uid,!1),B):N});throw B}}if((y==null?void 0:y.type)==="local"){const x=await P(e,Ge,"prepareTransactionRequest")({account:y,accessList:a,authorizationList:s,blobs:o,chain:n,data:l,gas:c,gasPrice:i,maxFeePerBlobGas:p,maxFeePerGas:d,maxPriorityFeePerGas:u,nonce:h,nonceManager:y.nonceManager,parameters:[...Ne,"sidecars"],value:f,...b,to:C}),F=(R=n==null?void 0:n.serializers)==null?void 0:R.transaction,E=await y.signTransaction(x,{serializer:F});return await P(e,Mt,"sendRawTransaction")({serializedTransaction:E})}throw(y==null?void 0:y.type)==="smart"?new V({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new V({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(C){throw C instanceof V?C:Bt(C,{...t,account:y,chain:t.chain||void 0})}}const qt=new Map,At=new Map;function Ot(e){const t=(a,s)=>({clear:()=>s.delete(a),get:()=>s.get(a),set:o=>s.set(a,o)}),r=t(e,qt),n=t(e,At);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function Ht(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const n=Ot(t),a=n.response.get();if(a&&r>0&&new Date().getTime()-a.created.getTime()<r)return a.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const Lt=e=>`blockNumber.${e}`;async function jt(e,{cacheTime:t=e.cacheTime}={}){const r=await Ht(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Lt(e.uid),cacheTime:t});return BigInt(r)}async function _e(e,{blockHash:t,blockNumber:r,blockTag:n,hash:a,index:s}){var p,d,u;const o=n||"latest",l=r!==void 0?G(r):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,G(s)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||o,G(s)]},{dedupe:!!l}),!c)throw new Pe({blockHash:t,blockNumber:r,blockTag:o,hash:a,index:s});return(((u=(d=(p=e.chain)==null?void 0:p.formatters)==null?void 0:d.transaction)==null?void 0:u.format)||Ye)(c)}async function pe(e,{hash:t}){var a,s,o;const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Te({hash:t});return(((o=(s=(a=e.chain)==null?void 0:a.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||Je)(r)}class zt extends _{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Ut(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new zt({value:e});let[r,n="0"]=e.split(".");const a=r.startsWith("-");if(a&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),t===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){const[s,o,l]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],c=Math.round(+`${o}.${l}`);c>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${c}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${a?"-":""}${r}${n}`)}function Dt(e,t="wei"){return Ut(e,Ze[t])}const W=new Map,fe=new Map;let Kt=0;function Y(e,t,r){const n=++Kt,a=()=>W.get(e)||[],s=()=>{const p=a();W.set(e,p.filter(d=>d.id!==n))},o=()=>{const p=a();if(!p.some(u=>u.id===n))return;const d=fe.get(e);p.length===1&&d&&d(),s()},l=a();if(W.set(e,[...l,{id:n,fns:t}]),l&&l.length>0)return o;const c={};for(const p in t)c[p]=(...d)=>{var h,f;const u=a();if(u.length!==0)for(const b of u)(f=(h=b.fns)[p])==null||f.call(h,...d)};const i=r(c);return typeof i=="function"&&fe.set(e,i),o}function Vt(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let a=!0;const s=()=>a=!1;return(async()=>{let l;t&&(l=await e({unpoll:s}));const c=await(r==null?void 0:r(l))??n;await se(c);const i=async()=>{a&&(await e({unpoll:s}),await se(n),i())};i()})(),s}function Qt(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:a,poll:s,pollingInterval:o=e.pollingInterval}){const l=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return l?(()=>{const d=X(["watchBlockNumber",e.uid,t,r,o]);return Y(d,{onBlockNumber:n,onError:a},u=>Vt(async()=>{var h;try{const f=await P(e,jt,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&r)for(let b=c+1n;b<f;b++)u.onBlockNumber(b,c),c=b}(!c||f>c)&&(u.onBlockNumber(f,c),c=f)}catch(f){(h=u.onError)==null||h.call(u,f)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=X(["watchBlockNumber",e.uid,t,r]);return Y(d,{onBlockNumber:n,onError:a},u=>{let h=!0,f=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(m=>m.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:y}=await b.subscribe({params:["newHeads"],onData(w){var g;if(!h)return;const m=K((g=w.result)==null?void 0:g.number);u.onBlockNumber(m,c),c=m},onError(w){var m;(m=u.onError)==null||m.call(u,w)}});f=y,h||f()}catch(b){a==null||a(b)}})(),()=>f()})})()}async function Wt(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:a=e.pollingInterval,retryCount:s=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:l=18e4}){const c=X(["waitForTransactionReceipt",e.uid,r]);let i,p,d,u=!1;const{promise:h,resolve:f,reject:b}=et(),y=l?setTimeout(()=>b(new tt({hash:r})),l):void 0,w=Y(c,{onReplaced:n,resolve:f,reject:b},m=>{const g=P(e,Qt,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:a,async onBlockNumber(R){const C=F=>{clearTimeout(y),g(),F(),w()};let x=R;if(!u)try{if(d){if(t>1&&(!d.blockNumber||x-d.blockNumber+1n<t))return;C(()=>m.resolve(d));return}if(i||(u=!0,await oe(async()=>{i=await P(e,_e,"getTransaction")({hash:r}),i.blockNumber&&(x=i.blockNumber)},{delay:o,retryCount:s}),u=!1),d=await P(e,pe,"getTransactionReceipt")({hash:r}),t>1&&(!d.blockNumber||x-d.blockNumber+1n<t))return;C(()=>m.resolve(d))}catch(F){if(F instanceof Pe||F instanceof Te){if(!i){u=!1;return}try{p=i,u=!0;const E=await oe(()=>P(e,z,"getBlock")({blockNumber:x,includeTransactions:!0}),{delay:o,retryCount:s,shouldRetry:({error:k})=>k instanceof Ie});u=!1;const T=E.transactions.find(({from:k,nonce:M})=>k===p.from&&M===p.nonce);if(!T||(d=await P(e,pe,"getTransactionReceipt")({hash:T.hash}),t>1&&(!d.blockNumber||x-d.blockNumber+1n<t)))return;let v="replaced";T.to===p.to&&T.value===p.value&&T.input===p.input?v="repriced":T.from===T.to&&T.value===0n&&(v="cancelled"),C(()=>{var k;(k=m.onReplaced)==null||k.call(m,{reason:v,replacedTransaction:p,transaction:T,transactionReceipt:d}),m.resolve(d)})}catch(E){C(()=>m.reject(E))}}else C(()=>m.reject(F))}}})});return h}async function Xt(e,t){const{abi:r,account:n=e.account,address:a,args:s,dataSuffix:o,functionName:l,...c}=t;if(typeof n>"u")throw new ke({docsPath:"/docs/contract/writeContract"});const i=n?U(n):null,p=nt({abi:r,args:s,functionName:l});try{return await P(e,$t,"sendTransaction")({data:`${p}${o?o.replace("0x",""):""}`,to:a,account:i,...c})}catch(d){throw rt(d,{abi:r,address:a,args:s,docsPath:"/docs/contract/writeContract",functionName:l,sender:i==null?void 0:i.address})}}function Yt(e,t={}){const{key:r="custom",methods:n,name:a="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>at({key:r,methods:n,name:a,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}async function Jt(e,t={}){let r;if(t.connector){const{connector:i}=t;if(e.state.status==="reconnecting"&&!i.getAccounts&&!i.getChainId)throw new st({connector:i});const[p,d]=await Promise.all([i.getAccounts().catch(u=>{if(t.account===null)return[];throw u}),i.getChainId()]);r={accounts:p,chainId:d,connector:i}}else r=e.state.connections.get(e.state.current);if(!r)throw new ot;const n=t.chainId??r.chainId,a=await r.connector.getChainId();if(a!==r.chainId)throw new it({connectionChainId:r.chainId,connectorChainId:a});const s=r.connector;if(s.getClient)return s.getClient({chainId:n});const o=U(t.account??r.accounts[0]);if(o&&(o.address=ct(o.address)),t.account&&!r.accounts.some(i=>i.toLowerCase()===o.address.toLowerCase()))throw new ut({address:o.address,connector:s});const l=e.chains.find(i=>i.id===n),c=await r.connector.getProvider({chainId:n});return dt({account:o,chain:l,name:"Connector Client",transport:i=>Yt(c)({...i,retryCount:0})})}function Zt(e,t){const{chainId:r,...n}=t,a=e.getClient({chainId:r});return j(a,lt,"readContract")(n)}async function en(e,t){const{chainId:r,timeout:n=0,...a}=t,s=e.getClient({chainId:r}),l=await j(s,Wt,"waitForTransactionReceipt")({...a,timeout:n});if(l.status==="reverted"){const i=await j(s,_e,"getTransaction")({hash:l.transactionHash}),d=await j(s,pt,"call")({...i,data:i.input,gasPrice:i.type!=="eip1559"?i.gasPrice:void 0,maxFeePerGas:i.type==="eip1559"?i.maxFeePerGas:void 0,maxPriorityFeePerGas:i.type==="eip1559"?i.maxPriorityFeePerGas:void 0}),u=d!=null&&d.data?ft(`0x${d.data.substring(138)}`):"unknown reason";throw new Error(u)}return{...l,chainId:s.chain.id}}async function tn(e,t){const{account:r,chainId:n,connector:a,...s}=t;let o;return typeof r=="object"&&(r==null?void 0:r.type)==="local"?o=e.getClient({chainId:n}):o=await Jt(e,{account:r??void 0,chainId:n,connector:a}),await j(o,Xt,"writeContract")({...s,...r?{account:r}:{},chain:n?{id:n}:null})}function nn(e,t={}){return{async queryFn({queryKey:r}){const n=t.abi;if(!n)throw new Error("abi is required");const{functionName:a,scopeKey:s,...o}=r[1],l=(()=>{const c=r[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!a)throw new Error("functionName is required");return Zt(e,{abi:n,functionName:a,args:o.args,...l,...o})},queryKey:rn(t)}}function rn(e={}){const{abi:t,...r}=e;return["readContract",Ce(r)]}function an(e,t={}){return{async queryFn({queryKey:r}){const{hash:n,...a}=r[1];if(!n)throw new Error("hash is required");return en(e,{...a,onReplaced:t.onReplaced,hash:n})},queryKey:sn(t)}}function sn(e={}){const{onReplaced:t,...r}=e;return["waitForTransactionReceipt",Ce(r)]}function on(e){return{mutationFn(t){return tn(e,t)},mutationKey:["writeContract"]}}function cn(e={}){const{abi:t,address:r,functionName:n,query:a={}}=e,s=e.code,o=ee(e),l=te({config:o}),c=nn(o,{...e,chainId:e.chainId??l}),i=!!((r||s)&&t&&n&&(a.enabled??!0));return Fe({...a,...c,enabled:i,structuralSharing:a.structuralSharing??mt})}function un(e={}){const{hash:t,query:r={}}=e,n=ee(e),a=te({config:n}),s=an(n,{...e,chainId:e.chainId??a}),o=!!(t&&(r.enabled??!0));return Fe({...r,...s,enabled:o})}function dn(e={}){const{mutation:t}=e,r=ee(e),n=on(r),{mutate:a,mutateAsync:s,...o}=yt({...t,...n});return{...o,writeContract:a,writeContractAsync:s}}const L=11155111,ln=ht({...ie,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...ie.contracts,disputeGameFactory:{[L]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[L]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[L]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[L]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:L});function pn(){switch("optimism"){case"sepolia":return wt;case"optimism":return ce;case"optimismSepolia":return ln;default:return ce}}const me=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"bytes32",name:"urlHash",type:"bytes32"},{indexed:!1,internalType:"string",name:"url",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LikeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"getLikesForUrl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"urlLikes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ye=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"bytes32",name:"urlHash",type:"bytes32"},{indexed:!1,internalType:"string",name:"url",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LikeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"getLikesForUrl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"urlLikes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function fn(){switch("optimism"){case"sepolia":return{address:"0xf137ca5dc45e3d0336ac2daa26084b0eaf244684",abi:me};case"optimism":return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:ye};case"optimismSepolia":return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:me};default:return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:ye}}}function mn(){const t=bt().urlPathname,[r,n]=O.useState(t),[a,s]=O.useState(!1),[o,l]=O.useState(null),[c,i]=O.useState(!1),{isConnected:p}=gt(),d=te(),u=Dt("0.0002"),{writeContract:h,isPending:f,data:b,error:y}=dn(),{isLoading:w,isSuccess:m}=un({hash:b});O.useEffect(()=>{const S=(window.location.origin+t).replace(/\/+$/,"");n(S)},[t]);const g=pn(),R=fn(),C=d===g.id,{data:x,error:F,isPending:E,refetch:T}=cn({...R,functionName:"getLikesForUrl",args:[r],chainId:g.id}),v=async()=>{if(l(null),!r){l("URL ist erforderlich");return}if(!C){l(`Bitte wechsle zum ${g.name} Netzwerk`);return}s(!0),h({...R,functionName:"donate",args:[r],value:u})};O.useEffect(()=>{m&&(s(!1),l(null),setTimeout(()=>{T()},2e3)),y&&(s(!1),l((y==null?void 0:y.message)||"Transaktion fehlgeschlagen"))},[m,y,T]);const k=o||(!C&&p?`Bitte wechsle zum ${g.name} Netzwerk`:null),M=o?"red":"orange",B={padding:"8px 16px",backgroundColor:"#3a5a8c",color:"white",fontWeight:"bold",height:"36px",boxSizing:"border-box",display:"flex",alignItems:"center"},$={...B,borderRadius:"4px 0 0 4px",borderRight:"1px solid white",borderLeft:"none",borderTop:"none",borderBottom:"none",cursor:a?"not-allowed":"pointer",backgroundColor:a?"#5a7aac":"#3a5a8c"},N={...B,borderRadius:"0 4px 4px 0",border:"none",minWidth:"10px"},H=()=>E?I.jsx("div",{style:N,children:"Loading..."}):F?I.jsxs("div",{style:N,children:["Error: ",F.shortMessage||F.message]}):I.jsx("div",{style:N,children:(x==null?void 0:x.toString())||"0"});return I.jsx("div",{style:{display:"flex",alignItems:"center",margin:"16px 0"},children:I.jsxs("div",{style:{display:"flex"},children:[I.jsxs("div",{style:{position:"relative"},children:[I.jsx("button",{onClick:v,disabled:!p||a||f||w,style:$,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:a||f?"Processing...":m?"Supported!":"Support"}),c&&k&&I.jsx("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",marginBottom:"8px",padding:"8px",backgroundColor:"white",border:`1px solid ${M}`,borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",color:M,width:"max-content",maxWidth:"250px",zIndex:100},children:k})]}),H()]})})}const wn=function({title:e}){return I.jsxs("div",{className:"TitleBar",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[I.jsx("h1",{children:e}),I.jsx(mn,{})]})};export{wn as T};
