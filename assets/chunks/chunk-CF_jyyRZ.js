import{r as N,j as e,h as a,L as y}from"./chunk-DXTPPVxN.js";import{g as x}from"./chunk-DA2KhBe7.js";import{u as p}from"./chunk-CB3odJ-6.js";const j=({tokenId:r,fallbackImageUrl:c,nftName:l})=>{const[m,o]=N.useState(null),[s,d]=N.useState(!0),i=p(),h=async t=>{try{if(t.startsWith("file://"))return console.warn("Cannot fetch file:// URLs in browser. Metadata:",t),null;const n=await fetch(t);if(!n.ok)throw new Error(`Failed to fetch metadata: ${n.status}`);return await n.json()}catch(n){return console.error("Error fetching NFT metadata:",n),null}};return N.useEffect(()=>{(async()=>{try{if(d(!0),c){o(c),d(!1);return}if(r&&i){const f=await i.readContract({address:x.address,abi:x.abi,functionName:"tokenURI",args:[BigInt(r)]}),u=await h(f);u?.image&&o(u.image)}}catch(n){console.warn("Failed to load NFT image:",n)}finally{d(!1)}})()},[r,c,i]),!m&&!s?null:e.jsx(e.Fragment,{children:s?e.jsx("div",{className:a.entryNftImage,style:{backgroundColor:"#f3f4f6"},title:"Loading NFT artwork..."}):e.jsx("img",{src:m,alt:l||"NFT Artwork",className:a.entryNftImage,title:`NFT Artwork${l?`: ${l}`:""}`,onError:()=>o(null)})})},C=({blogs:r,basePath:c,titleClassName:l,showDate:m=!1,reverseOrder:o=!1,limit:s,showViewAllLink:d=!1})=>{let i=o?[...r].reverse():r;const h=s&&r.length>s;return s&&(i=i.slice(0,s)),e.jsxs("div",{className:a.container,children:[i.map((t,n)=>{const f=o?r.length-1-n:n,u=`${c}/${f}`;return e.jsx(y,{href:u,className:a.entry,children:e.jsxs("div",{className:a.entryContent,children:[(t.tokenID||t.nftMetadata?.imageUrl)&&e.jsx(j,{tokenId:t.tokenID,fallbackImageUrl:t.nftMetadata?.imageUrl,nftName:t.nftMetadata?.name}),e.jsx("div",{className:t.description?a.entryTextCompact:a.entryText,children:e.jsxs("div",{className:a.entryTextContent,children:[m&&t.publishing_date&&e.jsx("div",{className:t.description?a.entryDateWithDescription:a.entryDate,children:t.publishing_date}),e.jsx("h3",{className:`${a.entryTitle} ${l||""}`,children:t.title}),t.description&&e.jsx("div",{className:a.entryDescription,children:t.description})]})})]})},f)}),h&&d&&e.jsx("div",{className:a.viewAllContainer,children:e.jsx(y,{href:c,children:"View all entries â†’"})})]})};export{C as E};
