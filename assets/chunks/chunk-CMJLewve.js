import{r as m,f as y,j as e,g as n}from"./chunk-D99inmG0.js";import{g as N,l as b}from"./chunk-B36DBCoT.js";const v=i=>{const a=i.split(":");return a.length===3?a[2]:null},A="/agent-registration.json",w={name:"",description:"",image:"",wallet:null,walletShort:null,genimgEndpoint:null,llmEndpoint:null,openApiUrl:null,supportedTrust:[],raw:null};function S(i={}){const{agentUrl:a=A,autoFetch:o=!0}=i,[g,r]=m.useState(w),[f,x]=m.useState(!1),[p,c]=m.useState(null),d=m.useCallback(async()=>{x(!0),c(null);try{const t=await fetch(a);if(!t.ok)throw new Error(`Failed to fetch agent registration: ${t.status}`);const s=await t.json(),u=s.endpoints.find(l=>l.name==="agentWallet")?.endpoint,h=u?v(u):null,j={name:s.name,description:s.description,image:s.image,wallet:h,walletShort:h?`${h.slice(0,6)}...${h.slice(-4)}`:null,genimgEndpoint:s.endpoints.find(l=>l.name==="genimg")?.endpoint||null,llmEndpoint:s.endpoints.find(l=>l.name==="llm")?.endpoint||null,openApiUrl:s.endpoints.find(l=>l.name==="OpenAPI")?.endpoint||null,supportedTrust:s.supportedTrust,raw:s};r(j)}catch(t){const s=t instanceof Error?t.message:"Unknown error fetching agent";c(s),console.error("Agent fetch error:",t)}finally{x(!1)}},[a]);return m.useEffect(()=>{o&&d()},[o,d]),{agent:g,isLoading:f,error:p,refetch:d}}function _({service:i="genimg",variant:a="footer"}){const[o,g]=m.useState(!1),{agent:r,isLoading:f,error:x}=S(),p=y({label:"imagegen.poweredBy"}),c=a==="sidebar";if(f)return e.jsxs("div",{className:n({fontSize:"xs",color:"gray.500",textAlign:c?"left":"center",mt:"2"}),children:[p," Optimism..."]});if(x||!r.wallet)return e.jsxs("div",{className:n({fontSize:"xs",color:"gray.600",textAlign:c?"left":"center",mt:"2"}),children:[p," ",e.jsx("a",{href:"https://optimism.io",target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"Optimism"})]});const d=i==="genimg"?r.genimgEndpoint:r.llmEndpoint,t=d?new URL(d).hostname:null,s=i==="genimg"?N.address:b.address;return c?e.jsxs("div",{className:n({fontSize:"xs"}),children:[e.jsxs("div",{className:n({display:"flex",alignItems:"center",justifyContent:"space-between",color:"gray.600",cursor:"pointer",_hover:{color:"gray.800"}}),onClick:()=>g(!o),children:[e.jsxs("span",{className:n({display:"flex",alignItems:"center",gap:"1"}),children:[e.jsx("span",{children:"ðŸ¤–"}),e.jsx("span",{className:n({fontFamily:"mono",color:"blue.600"}),children:r.walletShort})]}),e.jsx("span",{className:n({color:"gray.400",transition:"transform 0.2s",transform:o?"rotate(180deg)":"rotate(0deg)"}),children:"â–¼"})]}),o&&e.jsxs("div",{className:n({mt:"2",pt:"2",borderTop:"1px solid",borderColor:"gray.200"}),children:[e.jsxs("div",{className:n({display:"flex",alignItems:"center",gap:"2",mb:"2"}),children:[r.image&&e.jsx("img",{src:r.image,alt:r.name,className:n({width:"20px",height:"20px",borderRadius:"full",objectFit:"cover"})}),e.jsx("span",{className:n({fontWeight:"medium",color:"gray.800",fontSize:"xs"}),children:r.name})]}),e.jsxs("div",{className:n({display:"grid",gap:"1",color:"gray.600",fontSize:"xs"}),children:[t&&e.jsxs("div",{children:[e.jsx("span",{className:n({color:"gray.500"}),children:"Endpoint: "}),e.jsx("code",{className:n({fontFamily:"mono",color:"gray.700"}),children:t})]}),e.jsxs("div",{children:[e.jsx("span",{className:n({color:"gray.500"}),children:"Trust: "}),e.jsx("span",{children:r.supportedTrust.join(", ")||"none"})]})]}),e.jsxs("div",{className:n({display:"flex",flexDirection:"column",gap:"1",mt:"2",pt:"2",borderTop:"1px solid",borderColor:"gray.200"}),children:[e.jsx("a",{href:"/agent-registration.json",target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontSize:"xs",_hover:{textDecoration:"underline"}}),children:"ðŸ“„ EIP-8004 JSON"}),s&&e.jsx("a",{href:`https://optimistic.etherscan.io/address/${s}`,target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontSize:"xs",_hover:{textDecoration:"underline"}}),children:"ðŸ“œ Contract"})]})]}),e.jsx("a",{href:"/agent-onboarding/",className:n({display:"block",mt:"2",pt:"2",borderTop:"1px solid",borderColor:"gray.200",color:"brand",textDecoration:"none",fontSize:"xs",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"ðŸ†• Become a provider"})]}):e.jsxs("div",{className:n({mt:"2",fontSize:"xs"}),children:[e.jsxs("div",{className:n({display:"flex",alignItems:"center",justifyContent:"center",gap:"2",color:"gray.600"}),children:[e.jsxs("span",{className:n({cursor:"pointer",_hover:{color:"gray.800"},display:"inline-flex",alignItems:"center",gap:"2"}),onClick:()=>g(!o),children:[e.jsxs("span",{children:[p," Optimism"]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{className:n({fontFamily:"mono",color:"blue.600",display:"inline-flex",alignItems:"center",gap:"1"}),title:`Agent: ${r.wallet}`,children:["ðŸ¤– ",r.walletShort]}),e.jsx("span",{className:n({color:"gray.400",transition:"transform 0.2s",transform:o?"rotate(180deg)":"rotate(0deg)"}),children:"â–¼"})]}),e.jsx("span",{children:"â€¢"}),e.jsx("a",{href:"/agent-onboarding/",className:n({color:"brand",textDecoration:"none",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"Add your agent â†’"})]}),o&&e.jsxs("div",{className:n({mt:"3",p:"3",bg:"gray.50",border:"1px solid",borderColor:"gray.200",borderRadius:"md",textAlign:"left"}),children:[e.jsxs("div",{className:n({display:"flex",alignItems:"center",gap:"2",mb:"2"}),children:[r.image&&e.jsx("img",{src:r.image,alt:r.name,className:n({width:"24px",height:"24px",borderRadius:"full",objectFit:"cover"})}),e.jsx("span",{className:n({fontWeight:"medium",color:"gray.800"}),children:r.name}),e.jsx("span",{className:n({ml:"auto",px:"2",py:"0.5",bg:"green.100",color:"green.700",borderRadius:"full",fontSize:"xs"}),children:"âœ“ Active"})]}),e.jsxs("div",{className:n({display:"grid",gap:"1",color:"gray.600"}),children:[e.jsxs("div",{className:n({display:"flex",gap:"2"}),children:[e.jsx("span",{className:n({color:"gray.500",minWidth:"60px"}),children:"Wallet:"}),e.jsx("code",{className:n({fontFamily:"mono",fontSize:"xs",color:"gray.700",wordBreak:"break-all"}),children:r.wallet})]}),t&&e.jsxs("div",{className:n({display:"flex",gap:"2"}),children:[e.jsx("span",{className:n({color:"gray.500",minWidth:"60px"}),children:"Endpoint:"}),e.jsx("code",{className:n({fontFamily:"mono",fontSize:"xs",color:"gray.700"}),children:t})]}),e.jsxs("div",{className:n({display:"flex",gap:"2"}),children:[e.jsx("span",{className:n({color:"gray.500",minWidth:"60px"}),children:"Trust:"}),e.jsx("span",{children:r.supportedTrust.join(", ")||"none"})]})]}),e.jsxs("div",{className:n({display:"flex",gap:"3",mt:"3",pt:"2",borderTop:"1px solid",borderColor:"gray.200"}),children:[e.jsx("a",{href:"/agent-registration.json",target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"ðŸ“„ EIP-8004 JSON"}),r.openApiUrl&&e.jsx("a",{href:r.openApiUrl,target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"ðŸ“‹ OpenAPI Spec"}),s&&e.jsx("a",{href:`https://optimistic.etherscan.io/address/${s}`,target:"_blank",rel:"noopener noreferrer",className:n({color:"brand",textDecoration:"none",fontWeight:"medium",_hover:{textDecoration:"underline"}}),children:"ðŸ“œ Contract"})]})]})]})}export{_ as A};
