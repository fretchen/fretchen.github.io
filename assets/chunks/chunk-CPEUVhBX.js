import{r as N,j as e,h as n,L as x}from"./chunk-BhQ_wdje.js";import{g as y}from"./chunk-BHWEnbzq.js";import{u as g}from"./chunk-0eV20MeN.js";const j=({tokenId:r,fallbackImageUrl:c,nftName:o})=>{const[m,l]=N.useState(null),[s,d]=N.useState(!0),i=g(),h=async t=>{try{if(t.startsWith("file://"))return console.warn("Cannot fetch file:// URLs in browser. Metadata:",t),null;const a=await fetch(t);if(!a.ok)throw new Error(`Failed to fetch metadata: ${a.status}`);return await a.json()}catch(a){return console.error("Error fetching NFT metadata:",a),null}};return N.useEffect(()=>{(async()=>{try{if(d(!0),c){l(c),d(!1);return}if(r&&i){const f=await i.readContract({address:y.address,abi:y.abi,functionName:"tokenURI",args:[BigInt(r)]}),u=await h(f);u?.image&&l(u.image)}}catch(a){console.warn("Failed to load NFT image:",a)}finally{d(!1)}})()},[r,c,i]),!m&&!s?null:e.jsx(e.Fragment,{children:s?e.jsx("div",{className:n.entryNftImage,style:{backgroundColor:"#f3f4f6"},title:"Loading NFT artwork..."}):e.jsx("img",{src:m,alt:o||"NFT Artwork",className:n.entryNftImage,title:`NFT Artwork${o?`: ${o}`:""}`,onError:()=>l(null)})})},T=({blogs:r,basePath:c,titleClassName:o,showDate:m=!1,reverseOrder:l=!1,limit:s,showViewAllLink:d=!1})=>{let i=l?[...r].reverse():r;const h=s&&r.length>s;return s&&(i=i.slice(0,s)),e.jsxs("div",{className:n.container,children:[i.map((t,a)=>{const f=l?r.length-1-a:a,u=`${c}/${f}`;return e.jsx(x,{href:u,className:n.entry,children:e.jsxs("div",{className:n.entryContent,children:[(t.tokenID||t.nftMetadata?.imageUrl)&&e.jsx(j,{tokenId:t.tokenID,fallbackImageUrl:t.nftMetadata?.imageUrl,nftName:t.nftMetadata?.name}),e.jsx("div",{className:n.entryText,children:e.jsxs("div",{className:n.entryTextContent,children:[m&&t.publishing_date&&e.jsx("p",{className:n.entryDate,children:t.publishing_date}),e.jsx("h3",{className:`${n.entryTitle} ${o||""}`,children:t.title}),t.description&&e.jsx("p",{className:n.entryDescription,children:t.description})]})})]})},f)}),h&&d&&e.jsx("div",{className:n.viewAllContainer,children:e.jsx(x,{href:c,children:"View all entries â†’"})})]})};export{T as E};
