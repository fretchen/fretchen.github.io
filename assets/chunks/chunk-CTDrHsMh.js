import{r as N,j as t,f as a,L as p}from"./chunk-DUjxZCC4.js";import{g as x}from"./chunk-DF1d8N-U.js";import{u as j}from"./chunk-B8qgnPMO.js";const g=({tokenId:n,fallbackImageUrl:c,nftName:o})=>{const[f,l]=N.useState(null),[r,d]=N.useState(!0),i=j(),h=async e=>{try{if(e.startsWith("file://"))return console.warn("Cannot fetch file:// URLs in browser. Metadata:",e),null;const s=await fetch(e);if(!s.ok)throw new Error(`Failed to fetch metadata: ${s.status}`);return await s.json()}catch(s){return console.error("Error fetching NFT metadata:",s),null}};return N.useEffect(()=>{(async()=>{try{if(d(!0),c){l(c),d(!1);return}if(n&&i){const m=await i.readContract({address:x.address,abi:x.abi,functionName:"tokenURI",args:[BigInt(n)]}),u=await h(m);u?.image&&l(u.image)}}catch(s){console.warn("Failed to load NFT image:",s)}finally{d(!1)}})()},[n,c,i]),!f&&!r?null:t.jsx(t.Fragment,{children:r?t.jsx("div",{className:a.entryNftImage,style:{backgroundColor:"#f3f4f6"},title:"Loading NFT artwork..."}):t.jsx("img",{src:f,alt:o||"NFT Artwork",className:a.entryNftImage,title:`NFT Artwork${o?`: ${o}`:""}`,onError:()=>l(null)})})},F=({blogs:n,basePath:c,titleClassName:o,showDate:f=!1,reverseOrder:l=!1,limit:r,showViewAllLink:d=!1})=>{let i=l?[...n].reverse():n;const h=r&&n.length>r;return r&&(i=i.slice(0,r)),t.jsxs("div",{className:a.container,children:[i.map((e,s)=>{const m=l?n.length-1-s:s,u=`${c}/${m}`,y=e.publishing_date?new Date(e.publishing_date).toISOString().split("T")[0]:null;return t.jsx("article",{className:"h-entry",children:t.jsx(p,{href:u,className:a.entry,children:t.jsxs("div",{className:a.entryContent,children:[(e.tokenID||e.nftMetadata?.imageUrl)&&t.jsx("div",{className:"u-featured",children:t.jsx(g,{tokenId:e.tokenID,fallbackImageUrl:e.nftMetadata?.imageUrl,nftName:e.nftMetadata?.name})}),t.jsx("div",{className:e.description?a.entryTextCompact:a.entryText,children:t.jsxs("div",{className:a.entryTextContent,children:[f&&e.publishing_date&&t.jsx("div",{className:e.description?a.entryDateWithDescription:a.entryDate,children:t.jsx("time",{className:"dt-published",dateTime:y||void 0,children:e.publishing_date})}),t.jsx("h3",{className:`p-name ${a.entryTitle} ${o||""}`,children:e.title}),e.description&&t.jsx("div",{className:`p-summary ${a.entryDescription}`,children:e.description})]})})]})})},m)}),h&&d&&t.jsx("div",{className:a.viewAllContainer,children:t.jsx(p,{href:c,children:"View all entries â†’"})})]})};export{F as E};
