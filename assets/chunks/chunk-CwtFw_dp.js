import{bV as l,bW as g,am as E,bX as F,au as N,ak as A,bY as h,bZ as P,ao as y,a$ as I,b_ as w,b$ as R,c0 as q,c1 as f,c2 as v,aV as m,aW as b}from"./chunk-BpgHtCjF.js";function x(e){const{abi:a,data:r}=e,n=l(r,0,4),t=a.find(s=>s.type==="function"&&n===g(E(s)));if(!t)throw new F(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?N(t.inputs,l(r,4)):void 0}}const u="/docs/contract/encodeErrorResult";function p(e){const{abi:a,errorName:r,args:n}=e;let t=a[0];if(r){const c=A({abi:a,args:n,name:r});if(!c)throw new h(r,{docsPath:u});t=c}if(t.type!=="error")throw new h(void 0,{docsPath:u});const s=E(t),i=g(s);let o="0x";if(n&&n.length>0){if(!t.inputs)throw new P(t.name,{docsPath:u});o=y(t.inputs,n)}return I([i,o])}const d="/docs/contract/encodeFunctionResult";function G(e){const{abi:a,functionName:r,result:n}=e;let t=a[0];if(r){const i=A({abi:a,name:r});if(!i)throw new w(r,{docsPath:d});t=i}if(t.type!=="function")throw new w(void 0,{docsPath:d});if(!t.outputs)throw new R(t.name,{docsPath:d});const s=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new q(n)})();return y(t.outputs,s)}const $="x-batch-gateway:true";async function B(e){const{data:a,ccipRequest:r}=e,{args:[n]}=x({abi:f,data:a}),t=[],s=[];return await Promise.all(n.map(async(i,o)=>{try{s[o]=await r(i),t[o]=!1}catch(c){t[o]=!0,s[o]=H(c)}})),G({abi:f,functionName:"query",result:[t,s]})}function H(e){return e.name==="HttpRequestError"&&e.status?p({abi:f,errorName:"HttpError",args:[e.status,e.shortMessage]}):p({abi:[v],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function C(e,a){if(!m(e,{strict:!1}))throw new b({address:e});if(!m(a,{strict:!1}))throw new b({address:a});return e.toLowerCase()===a.toLowerCase()}export{B as a,C as i,$ as l};
