import{bT as l,bU as g,T as E,bV as F,a0 as N,R as A,bW as b,bX as P,V as y,ax as R,bY as h,bZ as I,b_ as q,b$ as f,c0 as x,ar as w,as as m}from"./chunk-jf7qf9Hq.js";function v(e){const{abi:r,data:s}=e,n=l(s,0,4),t=r.find(a=>a.type==="function"&&n===g(E(a)));if(!t)throw new F(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?N(t.inputs,l(s,4)):void 0}}const u="/docs/contract/encodeErrorResult";function p(e){const{abi:r,errorName:s,args:n}=e;let t=r[0];if(s){const c=A({abi:r,args:n,name:s});if(!c)throw new b(s,{docsPath:u});t=c}if(t.type!=="error")throw new b(void 0,{docsPath:u});const a=E(t),i=g(a);let o="0x";if(n&&n.length>0){if(!t.inputs)throw new P(t.name,{docsPath:u});o=y(t.inputs,n)}return R([i,o])}const d="/docs/contract/encodeFunctionResult";function G(e){const{abi:r,functionName:s,result:n}=e;let t=r[0];if(s){const i=A({abi:r,name:s});if(!i)throw new h(s,{docsPath:d});t=i}if(t.type!=="function")throw new h(void 0,{docsPath:d});if(!t.outputs)throw new I(t.name,{docsPath:d});const a=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new q(n)})();return y(t.outputs,a)}const B="x-batch-gateway:true";async function C(e){const{data:r,ccipRequest:s}=e,{args:[n]}=v({abi:f,data:r}),t=[],a=[];return await Promise.all(n.map(async(i,o)=>{try{a[o]=await s(i),t[o]=!1}catch(c){t[o]=!0,a[o]=H(c)}})),G({abi:f,functionName:"query",result:[t,a]})}function H(e){return e.name==="HttpRequestError"&&e.status?p({abi:f,errorName:"HttpError",args:[e.status,e.shortMessage]}):p({abi:[x],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function D(e,r){if(!w(e,{strict:!1}))throw new m({address:e});if(!w(r,{strict:!1}))throw new m({address:r});return e.toLowerCase()===r.toLowerCase()}export{C as a,D as i,B as l};
