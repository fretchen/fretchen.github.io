import{Z as u,_ as C,$ as w,R as h,r as f,a0 as d}from"./chunk-CNICcFgQ.js";let e=[];function r(t){const n=t.chains;return u(e,n)?e:(e=n,n)}async function m(t,n){const{addEthereumChainParameter:c,chainId:s}=n,a=t.state.connections.get(n.connector?.uid??t.state.current);if(a){const i=a.connector;if(!i.switchChain)throw new C({connector:i});return await i.switchChain({addEthereumChainParameter:c,chainId:s})}const o=t.chains.find(i=>i.id===s);if(!o)throw new w;return t.setState(i=>({...i,chainId:s})),o}function p(t,n){const{onChange:c}=n;return t._internal.chains.subscribe((s,a)=>{c(s,a)})}function E(t){return{mutationFn(n){return m(t,n)},mutationKey:["switchChain"]}}function S(t={}){const n=h(t);return f.useSyncExternalStore(c=>p(n,{onChange:c}),()=>r(n),()=>r(n))}function g(t={}){const{mutation:n}=t,c=h(t),s=E(c),{mutate:a,mutateAsync:o,...i}=d({...n,...s});return{...i,chains:S({config:c}),switchChain:a,switchChainAsync:o}}export{g as u};
