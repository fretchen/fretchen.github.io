import{B as D,al as K,am as da,z as It,aj as me,an as ce,ao as _e,ap as Oe,N as Hn,aq as la,ar as U,as as Ot,at as fa,au as pa,av as qt,aw as $t,ax as ya,ay as Ze,az as jn,aA as M,aB as ma,a5 as ha,aC as ne,aD as Zn,aE as qe,aF as Xe,aG as zt,aH as ba,aI as ga,aJ as wa,aK as va,aL as Ta,aM as Ea,aN as ln,aO as xa,aP as Ia,aQ as Ba,aR as We,aS as ka,aT as Ut,aU as Aa,x as et,aV as Na,aW as ve,aX as V,aY as tt,aZ as ie,a_ as fn,a$ as Lt,b0 as Vn,b1 as se,b2 as $e,b3 as Ca,b4 as Kn,b5 as pn,b6 as Pa,J as Wn,b7 as yn,E as Yn,b8 as Gt,y as nt,b9 as Te,ba as Sa,bb as Qn,bc as rt,I as Jn,bd as _a,be as Fa,bf as Fe,bg as ue,bh as Xn,bi as Ra,bj as er,bk as Ma,bl as Oa,bm as tr,bn as nr,bo as qa,bp as $a,bq as za,br as Ua,bs as Dt,bt as Ht,bu as Bt,bv as Ee,bw as Ie,bx as te,by as Re,bz as rr,bA as La,q as oe,bB as Ga,T as ar,U as Da,bC as Ha,bD as ja,bE as mn,bF as Za,bG as Va,ah as hn,bH as sr,bI as Ka,bJ as Wa,bK as bn,w as at,bL as Ya,bM as Qa,bN as Ja,bO as Xa,bP as gn,bQ as Ye,bR as jt,bS as or,bT as Me,bU as fe,bV as es,bW as ts,bX as ns,bY as wn,bZ as rs,b_ as as,b$ as ss,c0 as ir,c1 as os,ad as is,c2 as cs,c3 as cr,c4 as us,c5 as ds,c6 as ls,c7 as fs,c8 as Ne,c9 as ps,ca as ur,cb as Zt,a3 as dr,cc as lr,cd as ys,ce as ms,cf as hs,cg as vn,aa as Tn,ch as bs}from"./chunk-AeuXWPY4.js";import{l as fr,i as Vt}from"./chunk-B-saQEPW.js";import{_ as gs}from"./chunk-ETYCELfk.js";class pr extends D{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class mt extends D{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function ws(e){const t=K(`0x${e.substring(4)}`).substring(26);return da(`0x${t}`)}async function vs({hash:e,signature:t}){const n=It(e)?e:me(e),{secp256k1:r}=await gs(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>tc);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:f}=t,p=Number(f??l),b=En(p);return new r.Signature(ce(u),ce(d)).addRecoveryBit(b)}const o=It(t)?t:me(t);if(_e(o)!==65)throw new Error("invalid signature length");const i=Oe(`0x${o.slice(130)}`),c=En(i);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function En(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function yr({hash:e,signature:t}){return ws(await vs({hash:e,signature:t}))}function Ts(e){const{chainId:t,nonce:n,to:r}=e,a=e.contractAddress??e.address,s=K(Hn(["0x05",la([t?U(t):"0x",a,n?U(n):"0x"])]));return r==="bytes"?Ot(s):s}async function mr(e){const{authorization:t,signature:n}=e;return yr({hash:Ts(t),signature:n??t})}function Es({chain:e,currentChainId:t}){if(!e)throw new fa;if(t!==e.id)throw new pa({chain:e,currentChainId:t})}function xs(e,{docsPath:t,...n}){const r=(()=>{const a=qt(e,n);return a instanceof $t?e:a})();return new ya(r,{docsPath:t,...n})}async function Kt(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Oe(t)}class Is extends D{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Wt extends D{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Bs extends D{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ze(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class hr extends D{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function ee(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:a}={}){const s=a??!1,o=n!==void 0?U(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!i)throw new hr({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||jn)(i)}async function Yt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ks(e,t){return br(e,t)}async function br(e,t){const{block:n,chain:r=e.chain,request:a}=t||{};try{const s=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof s=="function"){const i=n||await M(e,ee,"getBlock")({}),c=await s({block:i,client:e,request:a});if(c===null)throw new Error;return c}if(typeof s<"u")return s;const o=await e.request({method:"eth_maxPriorityFeePerGas"});return ce(o)}catch{const[s,o]=await Promise.all([n?Promise.resolve(n):M(e,ee,"getBlock")({}),M(e,Yt,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new Wt;const i=o-s.baseFeePerGas;return i<0n?0n:i}}async function As(e,t){return kt(e,t)}async function kt(e,t){const{block:n,chain:r=e.chain,request:a,type:s="eip1559"}=t||{},o=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:a}):r?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Is;const c=10**(o.toString().split(".")[1]?.length??0),u=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await M(e,ee,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const f=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:a,type:s});if(f!==null)return f}if(s==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Wt;const f=typeof a?.maxPriorityFeePerGas=="bigint"?a.maxPriorityFeePerGas:await br(e,{block:d,chain:r,request:a}),p=u(d.baseFeePerGas);return{maxFeePerGas:a?.maxFeePerGas??p+f,maxPriorityFeePerGas:f}}return{gasPrice:a?.gasPrice??u(await M(e,Yt,"getGasPrice")({}))}}class Ns extends D{constructor(t,{account:n,docsPath:r,chain:a,data:s,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){const p=ma({from:n?.address,to:l,value:typeof f<"u"&&`${ha(f)} ${a?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof i<"u"&&`${Ze(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ze(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ze(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Cs(e,{docsPath:t,...n}){const r=(()=>{const a=qt(e,n);return a instanceof $t?e:a})();return new Ns(r,{docsPath:t,...n})}async function gr(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const a=typeof n=="bigint"?U(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,a||r]});return BigInt(s)}async function Qt(e,t){const{account:n=e.account}=t,r=n?ne(n):void 0;try{let m=function(B){const{block:C,request:N,rpcStateOverride:S}=B;return e.request({method:"eth_estimateGas",params:S?[N,C??e.experimental_blockTag??"latest",S]:C?[N,C]:[N]})};const{accessList:a,authorizationList:s,blobs:o,blobVersionedHashes:i,blockNumber:c,blockTag:u,data:d,gas:l,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:v,value:g,stateOverride:x,...k}=await Jt(e,{...t,parameters:r?.type==="local"?void 0:["blobVersionedHashes"]}),I=(typeof c=="bigint"?U(c):void 0)||u,F=Zn(x),_=await(async()=>{if(k.to)return k.to;if(s&&s.length>0)return await mr({authorization:s[0]}).catch(()=>{throw new D("`to` is required. Could not infer from `authorizationList`")})})();qe(t);const P=e.chain?.formatters?.transactionRequest?.format,T=(P||Xe)({...zt(k,{format:P}),from:r?.address,accessList:a,authorizationList:s,blobs:o,blobVersionedHashes:i,data:d,gas:l,gasPrice:f,maxFeePerBlobGas:p,maxFeePerGas:b,maxPriorityFeePerGas:h,nonce:v,to:_,value:g});let w=BigInt(await m({block:I,request:T,rpcStateOverride:F}));if(s){const B=await gr(e,{address:T.from}),C=await Promise.all(s.map(async N=>{const{address:S}=N,R=await m({block:I,request:{authorizationList:void 0,data:d,from:r?.address,to:S,value:U(B)},rpcStateOverride:F}).catch(()=>100000n);return 2n*BigInt(R)}));w+=C.reduce((N,S)=>N+S,0n)}return w}catch(a){throw Cs(a,{...t,account:r,chain:e.chain})}}async function wr(e,{address:t,blockTag:n="latest",blockNumber:r}){const a=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?U(r):n]},{dedupe:!!r});return Oe(a)}const vr=["blobVersionedHashes","chainId","fees","gas","nonce","type"],xn=new Map;async function Jt(e,t){const{account:n=e.account,blobs:r,chain:a,gas:s,kzg:o,nonce:i,nonceManager:c,parameters:u=vr,type:d}=t,l=n&&ne(n),f={...t,...l?{from:l?.address}:{}};let p;async function b(){return p||(p=await M(e,ee,"getBlock")({blockTag:"latest"}),p)}let h;async function v(){return h||(a?a.id:typeof t.chainId<"u"?t.chainId:(h=await M(e,Kt,"getChainId")({}),h))}if(u.includes("nonce")&&typeof i>"u"&&l)if(c){const g=await v();f.nonce=await c.consume({address:l.address,chainId:g,client:e})}else f.nonce=await M(e,wr,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const g=ba({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const x=ga({commitments:g,to:"hex"});f.blobVersionedHashes=x}if(u.includes("sidecars")){const x=wa({blobs:r,commitments:g,kzg:o}),k=va({blobs:r,commitments:g,proofs:x,to:"hex"});f.sidecars=k}}if(u.includes("chainId")&&(f.chainId=await v()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{f.type=Ta(f)}catch{let g=xn.get(e.uid);typeof g>"u"&&(g=typeof(await b())?.baseFeePerGas=="bigint",xn.set(e.uid,g)),f.type=g?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const g=await b(),{maxFeePerGas:x,maxPriorityFeePerGas:k}=await kt(e,{block:g,chain:a,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<k)throw new Bs({maxPriorityFeePerGas:k});f.maxPriorityFeePerGas=k,f.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Wt;if(typeof t.gasPrice>"u"){const g=await b(),{gasPrice:x}=await kt(e,{block:g,chain:a,request:f,type:"legacy"});f.gasPrice=x}}return u.includes("gas")&&typeof s>"u"&&(f.gas=await M(e,Qt,"estimateGas")({...f,account:l&&{address:l.address,type:"json-rpc"}})),qe(f),delete f.parameters,f}async function Tr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const ht=new Ea(128);async function Ps(e,t){const{account:n=e.account,chain:r=e.chain,accessList:a,authorizationList:s,blobs:o,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,type:b,value:h,...v}=t;if(typeof n>"u")throw new pr({docsPath:"/docs/actions/wallet/sendTransaction"});const g=n?ne(n):null;try{qe(t);const x=await(async()=>{if(t.to)return t.to;if(t.to!==null&&s&&s.length>0)return await mr({authorization:s[0]}).catch(()=>{throw new D("`to` is required. Could not infer from `authorizationList`.")})})();if(g?.type==="json-rpc"||g===null){let k;r!==null&&(k=await M(e,Kt,"getChainId")({}),Es({currentChainId:k,chain:r}));const A=e.chain?.formatters?.transactionRequest?.format,F=(A||Xe)({...zt(v,{format:A}),accessList:a,authorizationList:s,blobs:o,chainId:k,data:i,from:g?.address,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,to:x,type:b,value:h}),_=ht.get(e.uid),P=_?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:P,params:[F]},{retryCount:0})}catch(y){if(_===!1)throw y;const T=y;if(T.name==="InvalidInputRpcError"||T.name==="InvalidParamsRpcError"||T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[F]},{retryCount:0}).then(m=>(ht.set(e.uid,!0),m)).catch(m=>{const w=m;throw w.name==="MethodNotFoundRpcError"||w.name==="MethodNotSupportedRpcError"?(ht.set(e.uid,!1),T):w});throw T}}if(g?.type==="local"){const k=await M(e,Jt,"prepareTransactionRequest")({account:g,accessList:a,authorizationList:s,blobs:o,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:f,nonce:p,nonceManager:g.nonceManager,parameters:[...vr,"sidecars"],type:b,value:h,...v,to:x}),A=r?.serializers?.transaction,I=await g.signTransaction(k,{serializer:A});return await M(e,Tr,"sendRawTransaction")({serializedTransaction:I})}throw g?.type==="smart"?new mt({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new mt({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(x){throw x instanceof mt?x:xs(x,{...t,account:g,chain:t.chain||void 0})}}function In(e){let t;if(typeof e=="string")t=ln(e);else{const n=xa(e),r=e.length;for(let a=0;a<r;a++){const s=e[a];if(!Ia(s)){t=ln(s,n);break}}}if(!t)throw new Ba({signature:e});return t}function Ve(e){let t=new Uint8Array(32).fill(0);if(!e)return We(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const a=ka(n[r]),s=a?Ut(a):K(Aa(n[r]),"bytes");t=K(et([t,s]),"bytes")}return We(t)}function Ss(e,t){if(kn(e)>t)throw new zs({givenSize:kn(e),maxSize:t})}const re={zero:48,nine:57,A:65,F:70,a:97,f:102};function Bn(e){if(e>=re.zero&&e<=re.nine)return e-re.zero;if(e>=re.A&&e<=re.F)return e-(re.A-10);if(e>=re.a&&e<=re.f)return e-(re.a-10)}function _s(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Us({size:e.length,targetSize:r,type:"Bytes"});const a=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";a[o?s:r-s-1]=e[o?s:e.length-s-1]}return a}const Fs=new TextEncoder;function Rs(e){return e instanceof Uint8Array?e:typeof e=="string"?Os(e):Ms(e)}function Ms(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Os(e,t={}){const{size:n}=t;let r=e;n&&(Na(e,n),r=ve(e,n));let a=r.slice(2);a.length%2&&(a=`0${a}`);const s=a.length/2,o=new Uint8Array(s);for(let i=0,c=0;i<s;i++){const u=Bn(a.charCodeAt(c++)),d=Bn(a.charCodeAt(c++));if(u===void 0||d===void 0)throw new V(`Invalid byte sequence ("${a[c-2]}${a[c-1]}" in "${a}").`);o[i]=u*16+d}return o}function qs(e,t={}){const{size:n}=t,r=Fs.encode(e);return typeof n=="number"?(Ss(r,n),$s(r,n)):r}function $s(e,t){return _s(e,{dir:"right",size:t})}function kn(e){return e.length}class zs extends V{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class Us extends V{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}async function Ls(e,t){const{blockNumber:n,blockTag:r,coinType:a,name:s,gatewayUrls:o,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return tt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(l=>s.endsWith(l)))return null;try{const l=ie({abi:fn,functionName:"addr",...a!=null?{args:[Ve(s),BigInt(a)]}:{args:[Ve(s)]}}),f={address:u,abi:Vn,functionName:"resolve",args:[me(Lt(s)),l,o??[fr]],blockNumber:n,blockTag:r},b=await M(e,se,"readContract")(f);if(b[0]==="0x")return null;const h=$e({abi:fn,args:a!=null?[Ve(s),BigInt(a)]:void 0,functionName:"addr",data:b[0]});return h==="0x"||Ca(h)==="0x00"?null:h}catch(l){if(i)throw l;if(Kn(l,"resolve"))return null;throw l}}class Gs extends D{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ke extends D{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Xt extends D{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Ds extends D{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Hs=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,js=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Zs=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Vs=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Ks(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function An(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Er({uri:e,gatewayUrls:t}){const n=Zs.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=An(t?.ipfs,"https://ipfs.io"),a=An(t?.arweave,"https://arweave.net"),s=e.match(Hs),{protocol:o,subpath:i,target:c,subtarget:u=""}=s?.groups||{},d=o==="ipns:/"||i==="ipns/",l=o==="ipfs:/"||i==="ipfs/"||js.test(e);if(e.startsWith("http")&&!d&&!l){let p=e;return t?.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${a}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Vs,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new Xt({uri:e})}function xr(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Gs({data:e});return e.image||e.image_url||e.image_data}async function Ws({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(a=>a.json());return await en({gatewayUrls:e,uri:xr(n)})}catch{throw new Xt({uri:t})}}async function en({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Er({uri:t,gatewayUrls:e});if(r||await Ks(n))return n;throw new Xt({uri:t})}function Ys(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,a]=t.split("/"),[s,o]=n.split(":"),[i,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new ke({reason:"Only EIP-155 supported"});if(!o)throw new ke({reason:"Chain ID not found"});if(!c)throw new ke({reason:"Contract address not found"});if(!a)throw new ke({reason:"Token ID not found"});if(!i)throw new ke({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:a}}async function Qs(e,{nft:t}){if(t.namespace==="erc721")return se(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return se(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ds({namespace:t.namespace})}async function Js(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Xs(e,{gatewayUrls:t,record:n}):en({uri:n,gatewayUrls:t})}async function Xs(e,{gatewayUrls:t,record:n}){const r=Ys(n),a=await Qs(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:i}=Er({uri:a,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=i?atob(s.replace("data:application/json;base64,","")):s,d=JSON.parse(u);return en({uri:xr(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Ws({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function Ir(e,t){const{blockNumber:n,blockTag:r,key:a,name:s,gatewayUrls:o,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return tt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(l=>s.endsWith(l)))return null;try{const l={address:u,abi:Vn,functionName:"resolve",args:[me(Lt(s)),ie({abi:pn,functionName:"text",args:[Ve(s),a]}),o??[fr]],blockNumber:n,blockTag:r},p=await M(e,se,"readContract")(l);if(p[0]==="0x")return null;const b=$e({abi:pn,functionName:"text",data:p[0]});return b===""?null:b}catch(l){if(i)throw l;if(Kn(l,"resolve"))return null;throw l}}async function eo(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:a,gatewayUrls:s,strict:o,universalResolverAddress:i}){const c=await M(e,Ir,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:a,universalResolverAddress:i,gatewayUrls:s,strict:o});if(!c)return null;try{return await Js(e,{record:c,gatewayUrls:r})}catch{return null}}async function to(e,t){const{blockNumber:n,blockTag:r,name:a}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return tt({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),i=s?.ensTlds;if(i&&!i.some(u=>a.endsWith(u)))throw new Error(`${a} is not a valid ENS TLD (${i?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await M(e,se,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[me(Lt(a))],blockNumber:n,blockTag:r});return c}async function Br(e,t){const{account:n=e.account,blockNumber:r,blockTag:a="latest",blobs:s,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p,...b}=t,h=n?ne(n):void 0;try{qe(t);const g=(typeof r=="bigint"?U(r):void 0)||a,x=e.chain?.formatters?.transactionRequest?.format,A=(x||Xe)({...zt(b,{format:x}),from:h?.address,blobs:s,data:o,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:l,to:f,value:p}),I=await e.request({method:"eth_createAccessList",params:[A,g]});return{accessList:I.accessList,gasUsed:BigInt(I.gasUsed)}}catch(v){throw Pa(v,{...t,account:h,chain:e.chain})}}function st(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:a,status:s,transport:o})=>{s==="success"&&t===r&&(n[a]=o.request)}),r=>n[r]||e.request}async function no(e){const t=st(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class ro extends D{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Nn="/docs/contract/encodeEventTopics";function ze(e){const{abi:t,eventName:n,args:r}=e;let a=t[0];if(n){const c=Wn({abi:t,name:n});if(!c)throw new yn(n,{docsPath:Nn});a=c}if(a.type!=="event")throw new yn(void 0,{docsPath:Nn});const s=Yn(a),o=Gt(s);let i=[];if(r&&"inputs"in a){const c=a.inputs?.filter(d=>"indexed"in d&&d.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(d=>r[d.name])??[]:[];u.length>0&&(i=c?.map((d,l)=>Array.isArray(u[l])?u[l].map((f,p)=>Cn({param:d,value:u[l][p]})):typeof u[l]<"u"&&u[l]!==null?Cn({param:d,value:u[l]}):null)??[])}return[o,...i]}function Cn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return K(Ut(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ro(e.type);return nt([e],[t])}async function kr(e,t){const{address:n,abi:r,args:a,eventName:s,fromBlock:o,strict:i,toBlock:c}=t,u=st(e,{method:"eth_newFilter"}),d=s?ze({abi:r,args:a,eventName:s}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?U(o):o,toBlock:typeof c=="bigint"?U(c):c,topics:d}]});return{abi:r,args:a,eventName:s,id:l,request:u(l),strict:!!i,type:"event"}}async function Ar(e,{address:t,args:n,event:r,events:a,fromBlock:s,strict:o,toBlock:i}={}){const c=a??(r?[r]:void 0),u=st(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(p=>ze({abi:[p],eventName:p.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?U(s):s,toBlock:typeof i=="bigint"?U(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:l,request:u(l),strict:!!o,toBlock:i,type:"event"}}async function Nr(e){const t=st(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ao(e,t){const{abi:n,address:r,args:a,functionName:s,dataSuffix:o,...i}=t,c=ie({abi:n,args:a,functionName:s});try{return await M(e,Qt,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...i})}catch(u){const d=i.account?ne(i.account):void 0;throw Te(u,{abi:n,address:r,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:d?.address})}}async function so(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const oo=new Map,io=new Map;function co(e){const t=(a,s)=>({clear:()=>s.delete(a),get:()=>s.get(a),set:o=>s.set(a,o)}),n=t(e,oo),r=t(e,io);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function uo(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=co(t),a=r.response.get();if(a&&n>0&&new Date().getTime()-a.created.getTime()<n)return a.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const lo=e=>`blockNumber.${e}`;async function Ue(e,{cacheTime:t=e.cacheTime}={}){const n=await uo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:lo(e.uid),cacheTime:t});return BigInt(n)}async function fo(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const a=n!==void 0?U(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]},{dedupe:!!a}),Oe(s)}async function Pn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const a=n!==void 0?U(n):void 0,s=await e.request({method:"eth_getCode",params:[t,a||r]},{dedupe:!!a});if(s!=="0x")return s}const Sn="/docs/contract/decodeEventLog";function tn(e){const{abi:t,data:n,strict:r,topics:a}=e,s=r??!0,[o,...i]=a;if(!o)throw new Sa({docsPath:Sn});const c=t.find(h=>h.type==="event"&&o===Gt(Yn(h)));if(!(c&&"name"in c)||c.type!=="event")throw new Qn(o,{docsPath:Sn});const{name:u,inputs:d}=c,l=d?.some(h=>!("name"in h&&h.name)),f=l?[]:{},p=d.map((h,v)=>[h,v]).filter(([h])=>"indexed"in h&&h.indexed);for(let h=0;h<p.length;h++){const[v,g]=p[h],x=i[h];if(!x)throw new rt({abiItem:c,param:v});f[l?g:v.name||g]=po({param:v,value:x})}const b=d.filter(h=>!("indexed"in h&&h.indexed));if(b.length>0){if(n&&n!=="0x")try{const h=Jn(b,n);if(h)if(l)for(let v=0;v<d.length;v++)f[v]=f[v]??h.shift();else for(let v=0;v<b.length;v++)f[b[v].name]=h[v]}catch(h){if(s)throw h instanceof _a||h instanceof Fa?new Fe({abiItem:c,data:n,params:b,size:_e(n)}):h}else if(s)throw new Fe({abiItem:c,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function po({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Jn([e],t)||[])[0]}function nn(e){const{abi:t,args:n,logs:r,strict:a=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{try{const i=t.find(u=>u.type==="event"&&o.topics[0]===Gt(u));if(!i)return null;const c=tn({...o,abi:[i],strict:a});return s&&!s.includes(c.eventName)||!yo({args:c.args,inputs:i.inputs,matchArgs:n})?null:{...c,...o}}catch(i){let c,u;if(i instanceof Qn)return null;if(i instanceof Fe||i instanceof rt){if(a)return null;c=i.abiItem.name,u=i.abiItem.inputs?.some(d=>!("name"in d&&d.name))}return{...o,args:u?[]:{},eventName:c}}}).filter(Boolean)}function yo(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function a(s,o,i){try{return s.type==="address"?Vt(o,i):s.type==="string"||s.type==="bytes"?K(Ut(o))===i:o===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const i=n[o];return i?(Array.isArray(s)?s:[s]).some(u=>a(i,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const i=n.find(u=>u.name===s);return i?(Array.isArray(o)?o:[o]).some(u=>a(i,u,t[s])):!1}):!1}async function rn(e,{address:t,blockHash:n,fromBlock:r,toBlock:a,event:s,events:o,args:i,strict:c}={}){const u=c??!1,d=o??(s?[s]:void 0);let l=[];d&&(l=[d.flatMap(h=>ze({abi:[h],eventName:h.name,args:o?void 0:i}))],s&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof a=="bigint"?U(a):a}]});const p=f.map(b=>ue(b));return d?nn({abi:d,args:i,logs:p,strict:u}):p}async function Cr(e,t){const{abi:n,address:r,args:a,blockHash:s,eventName:o,fromBlock:i,toBlock:c,strict:u}=t,d=o?Wn({abi:n,name:o}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return M(e,rn,"getLogs")({address:r,args:a,blockHash:s,event:d,events:l,fromBlock:i,toBlock:c,strict:u})}class mo extends D{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ho(e,t){const{address:n,factory:r,factoryData:a}=t;try{const[s,o,i,c,u,d,l]=await M(e,se,"readContract")({abi:bo,address:n,functionName:"eip712Domain",factory:r,factoryData:a});return{domain:{name:o,version:i,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new mo({address:n}):o}}const bo=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function go(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function wo(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const s=typeof n=="bigint"?U(n):void 0,o=await e.request({method:"eth_feeHistory",params:[U(t),s||r,a]},{dedupe:!!s});return go(o)}async function ot(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const a=r.map(s=>ue(s));return!("abi"in t)||!t.abi?a:nn({abi:t.abi,logs:a,strict:n})}async function vo(e,{filter:t}){const n=t.strict??!1,a=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>ue(s));return t.abi?nn({abi:t.abi,logs:a,strict:n}):a}async function To(e,{address:t,blockNumber:n,blockTag:r="latest",slot:a}){const s=n!==void 0?U(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,a,s||r]})}async function it(e,{blockHash:t,blockNumber:n,blockTag:r,hash:a,index:s}){const o=r||"latest",i=n!==void 0?U(n):void 0;let c=null;if(a?c=await e.request({method:"eth_getTransactionByHash",params:[a]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,U(s)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,U(s)]},{dedupe:!!i}),!c)throw new Xn({blockHash:t,blockNumber:n,blockTag:o,hash:a,index:s});return(e.chain?.formatters?.transaction?.format||Ra)(c)}async function Eo(e,{hash:t,transactionReceipt:n}){const[r,a]=await Promise.all([M(e,Ue,"getBlockNumber")({}),t?M(e,it,"getTransaction")({hash:t}):void 0]),s=n?.blockNumber||a?.blockNumber;return s?r-s+1n:0n}async function Ke(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new er({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||Ma)(n)}async function xo(e,t){const{account:n,allowFailure:r=!0,batchSize:a,blockNumber:s,blockTag:o,multicallAddress:i,stateOverride:c}=t,u=t.contracts,d=a??(typeof e.batch?.multicall=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=tt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=[[]];let p=0,b=0;for(let g=0;g<u.length;g++){const{abi:x,address:k,args:A,functionName:I}=u[g];try{const F=ie({abi:x,args:A,functionName:I});b+=(F.length-2)/2,d>0&&b>d&&f[p].length>0&&(p++,b=(F.length-2)/2,f[p]=[]),f[p]=[...f[p],{allowFailure:!0,callData:F,target:k}]}catch(F){const _=Te(F,{abi:x,address:k,args:A,docsPath:"/docs/contract/multicall",functionName:I,sender:n});if(!r)throw _;f[p]=[...f[p],{allowFailure:!0,callData:"0x",target:k}]}}const h=await Promise.allSettled(f.map(g=>M(e,se,"readContract")({abi:Oa,account:n,address:l,args:[g],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:c}))),v=[];for(let g=0;g<h.length;g++){const x=h[g];if(x.status==="rejected"){if(!r)throw x.reason;for(let A=0;A<f[g].length;A++)v.push({status:"failure",error:x.reason,result:void 0});continue}const k=x.value;for(let A=0;A<k.length;A++){const{returnData:I,success:F}=k[A],{callData:_}=f[g][A],{abi:P,address:y,functionName:T,args:m}=u[v.length];try{if(_==="0x")throw new tr;if(!F)throw new nr({data:I});const w=$e({abi:P,args:m,data:I,functionName:T});v.push(r?{result:w,status:"success"}:w)}catch(w){const B=Te(w,{abi:P,address:y,args:m,docsPath:"/docs/contract/multicall",functionName:T});if(!r)throw B;v.push({error:B,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new D("multicall results mismatch");return v}async function At(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:a,returnFullTransactions:s,traceTransfers:o,validation:i}=t;try{const c=[];for(const f of a){const p=f.blockOverrides?qa(f.blockOverrides):void 0,b=f.calls.map(v=>{const g=v,x=g.account?ne(g.account):void 0,k=g.abi?ie(g):g.data,A={...g,data:g.dataSuffix?et([k||"0x",g.dataSuffix]):k,from:g.from??x?.address};return qe(A),Xe(A)}),h=f.stateOverrides?Zn(f.stateOverrides):void 0;c.push({blockOverrides:p,calls:b,stateOverrides:h})}const d=(typeof n=="bigint"?U(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:i},d]})).map((f,p)=>({...jn(f),calls:f.calls.map((b,h)=>{const{abi:v,args:g,functionName:x,to:k}=a[p].calls[h],A=b.error?.data??b.returnData,I=BigInt(b.gasUsed),F=b.logs?.map(T=>ue(T)),_=b.status==="0x1"?"success":"failure",P=v&&_==="success"&&A!=="0x"?$e({abi:v,data:A,functionName:x}):null,y=(()=>{if(_==="success")return;let T;if(b.error?.data==="0x"?T=new tr:b.error&&(T=new nr(b.error)),!!T)return Te(T,{abi:v??[],address:k??"0x",args:g,functionName:x??"<unknown>"})})();return{data:A,gasUsed:I,logs:F,status:_,..._==="success"?{result:P}:{error:y}}})}))}catch(c){const u=c,d=qt(u,{});throw d instanceof $t?u:d}}function Pr(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=$a(Rs(e));return n==="Bytes"?r:za(r)}class Io extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Bo={checksum:new Io(8192)},bt=Bo.checksum,ko=/^0x[a-fA-F0-9]{40}$/;function ct(e,t={}){const{strict:n=!0}=t;if(!ko.test(e))throw new _n({address:e,cause:new No});if(n){if(e.toLowerCase()===e)return;if(Ao(e)!==e)throw new _n({address:e,cause:new Co})}}function Ao(e){if(bt.has(e))return bt.get(e);ct(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Pr(qs(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const a=`0x${r.join("")}`;return bt.set(e,a),a}function Nt(e,t={}){const{strict:n=!0}=t??{};try{return ct(e,{strict:n}),!0}catch{return!1}}class _n extends V{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class No extends V{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Co extends V{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function Ct(e){let t=!0,n="",r=0,a="",s=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function","error",""].includes(a))a="";else if(a+=i,i===")"){s=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}a+=i,n+=i}}if(!s)throw new V("Unable to normalize signature.");return a}function Pt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Nt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((a,s)=>Pt(Object.values(e)[s],a)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(a=>Pt(a,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Sr(e,t,n){for(const r in e){const a=e[r],s=t[r];if(a.type==="tuple"&&s.type==="tuple"&&"components"in a&&"components"in s)return Sr(a.components,s.components,n[r]);const o=[a.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Nt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Nt(n[r],{strict:!1}):!1)return o}}function _r(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?In(e):e;return{...r,...n?{hash:we(r)}:{}}}function Po(e,t,n){const{args:r=[],prepare:a=!0}=n??{},s=Ua(t,{strict:!1}),o=e.filter(u=>s?u.type==="function"||u.type==="error"?Fr(u)===Dt(t,0,4):u.type==="event"?we(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new St({name:t});if(o.length===1)return{...o[0],...a?{hash:we(o[0])}:{}};let i;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...a?{hash:we(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((l,f)=>{const p="inputs"in u&&u.inputs[f];return p?Pt(l,p):!1})){if(i&&"inputs"in i&&i.inputs){const l=Sr(u.inputs,i.inputs,r);if(l)throw new _o({abiItem:u,type:l[0]},{abiItem:i,type:l[1]})}i=u}}const c=(()=>{if(i)return i;const[u,...d]=o;return{...u,overloads:d}})();if(!c)throw new St({name:t});return{...c,...a?{hash:we(c)}:{}}}function Fr(e){return Dt(we(e),0,4)}function So(e){const t=typeof e=="string"?e:Bt(e);return Ct(t)}function we(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Pr(Ht(So(e)))}class _o extends V{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Ct(Bt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Ct(Bt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class St extends V{constructor({name:t,data:n,type:r="item"}){const a=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${a} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const Fo=/^(.*)\[([0-9]*)\]$/,Ro=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Rr=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Mo({checksumAddress:e,parameters:t,values:n}){const r=[];for(let a=0;a<t.length;a++)r.push(an({checksumAddress:e,parameter:t[a],value:n[a]}));return r}function an({checksumAddress:e=!1,parameter:t,value:n}){const r=t,a=Do(r.type);if(a){const[s,o]=a;return qo(n,{checksumAddress:e,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return Go(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Oo(n,{checksum:e});if(r.type==="bool")return zo(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=Rr.exec(r.type)??[];return Uo(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return $o(n,{type:r.type});if(r.type==="string")return Lo(n);throw new $r(r.type)}function sn(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:i}=e[s];o?t+=32:t+=Ee(i)}const n=[],r=[];let a=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:i}=e[s];o?(n.push(Ie(t+a,{size:32})),r.push(i),a+=Ee(i)):n.push(i)}return te(...n,...r)}function Oo(e,t){const{checksum:n=!1}=t;return ct(e,{strict:n}),{dynamic:!1,encoded:Re(e.toLowerCase())}}function qo(e,t){const{checksumAddress:n,length:r,parameter:a}=t,s=r===null;if(!Array.isArray(e))throw new jo(e);if(!s&&e.length!==r)throw new Ho({expectedLength:r,givenLength:e.length,type:`${a.type}[${r}]`});let o=!1;const i=[];for(let c=0;c<e.length;c++){const u=an({checksumAddress:n,parameter:a,value:e[c]});u.dynamic&&(o=!0),i.push(u)}if(s||o){const c=sn(i);if(s){const u=Ie(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?te(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:te(...i.map(({encoded:c})=>c))}}function $o(e,{type:t}){const[,n]=t.split("bytes"),r=Ee(e);if(!n){let a=e;return r%32!==0&&(a=ve(a,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:te(Re(Ie(r,{size:32})),a)}}if(r!==Number.parseInt(n))throw new Or({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:ve(e)}}function zo(e){if(typeof e!="boolean")throw new V(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Re(rr(e))}}function Uo(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,a=t?-r-1n:0n;if(e>r||e<a)throw new La({max:r.toString(),min:a.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Ie(e,{size:32,signed:t})}}function Lo(e){const t=Ht(e),n=Math.ceil(Ee(t)/32),r=[];for(let a=0;a<n;a++)r.push(ve(Dt(t,a*32,(a+1)*32)));return{dynamic:!0,encoded:te(ve(Ie(Ee(t),{size:32})),...r)}}function Go(e,t){const{checksumAddress:n,parameter:r}=t;let a=!1;const s=[];for(let o=0;o<r.components.length;o++){const i=r.components[o],c=Array.isArray(e)?o:i.name,u=an({checksumAddress:n,parameter:i,value:e[c]});s.push(u),u.dynamic&&(a=!0)}return{dynamic:a,encoded:a?sn(s):te(...s.map(({encoded:o})=>o))}}function Do(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Mr(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new qr({expectedLength:e.length,givenLength:t.length});const a=Mo({checksumAddress:r,parameters:e,values:t}),s=sn(a);return s.length===0?"0x":s}function _t(e,t){if(e.length!==t.length)throw new qr({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const a=e[r],s=t[r];n.push(_t.encode(a,s))}return te(...n)}(function(e){function t(n,r,a=!1){if(n==="address"){const c=r;return ct(c),Re(c.toLowerCase(),a?32:0)}if(n==="string")return Ht(r);if(n==="bytes")return r;if(n==="bool")return Re(rr(r),a?32:1);const s=n.match(Rr);if(s){const[c,u,d="256"]=s,l=Number.parseInt(d)/8;return Ie(r,{size:a?32:l,signed:u==="int"})}const o=n.match(Ro);if(o){const[c,u]=o;if(Number.parseInt(u)!==(r.length-2)/2)throw new Or({expectedSize:Number.parseInt(u),value:r});return ve(r,a?32:0)}const i=n.match(Fo);if(i&&Array.isArray(r)){const[c,u]=i,d=[];for(let l=0;l<r.length;l++)d.push(t(u,r[l],!0));return d.length===0?"0x":te(...d)}throw new $r(n)}e.encode=t})(_t||(_t={}));class Ho extends V{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Or extends V{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ee(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class qr extends V{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class jo extends V{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class $r extends V{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Zo(e,t){const{bytecode:n,args:r}=t;return te(n,e.inputs?.length&&r?.length?Mr(e.inputs,r):"0x")}function Vo(e){return _r(e)}function Ko(e,...t){const{overloads:n}=e,r=n?Wo([e,...n],e.name,{args:t[0]}):e,a=Yo(r),s=t.length>0?Mr(r.inputs,t[0]):void 0;return s?te(a,s):a}function ge(e,t={}){return _r(e,t)}function Wo(e,t,n){const r=Po(e,t,n);if(r.type!=="function")throw new St({name:t,type:"function"});return r}function Yo(e){return Fr(e)}const Qo="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",X="0x0000000000000000000000000000000000000000";class Jo extends D{constructor({domain:t}){super(`Invalid domain "${oe(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Xo extends D{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class ei extends D{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function ti(e){const{domain:t={},message:n,primaryType:r}=e,a={EIP712Domain:oi({domain:t}),...e.types};si({domain:t,message:n,primaryType:r,types:a});const s=["0x1901"];return t&&s.push(ni({domain:t,types:a})),r!=="EIP712Domain"&&s.push(zr({data:n,primaryType:r,types:a})),K(et(s))}function ni({domain:e,types:t}){return zr({data:e,primaryType:"EIP712Domain",types:t})}function zr({data:e,primaryType:t,types:n}){const r=Ur({data:e,primaryType:t,types:n});return K(r)}function Ur({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],a=[ri({primaryType:t,types:n})];for(const s of n[t]){const[o,i]=Gr({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),a.push(i)}return nt(r,a)}function ri({primaryType:e,types:t}){const n=me(ai({primaryType:e,types:t}));return K(n)}function ai({primaryType:e,types:t}){let n="";const r=Lr({primaryType:e,types:t});r.delete(e);const a=[e,...Array.from(r).sort()];for(const s of a)n+=`${s}(${t[s].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function Lr({primaryType:e,types:t},n=new Set){const a=e.match(/^\w*/u)?.[0];if(n.has(a)||t[a]===void 0)return n;n.add(a);for(const s of t[a])Lr({primaryType:s.type,types:t},n);return n}function Gr({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},K(Ur({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},K(r)];if(n==="string")return[{type:"bytes32"},K(me(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>Gr({name:t,type:a,types:e,value:o}));return[{type:"bytes32"},K(nt(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}function si(e){const{domain:t,message:n,primaryType:r,types:a}=e,s=(o,i)=>{for(const c of o){const{name:u,type:d}=c,l=i[u],f=d.match(Ga);if(f&&(typeof l=="number"||typeof l=="bigint")){const[h,v,g]=f;U(l,{signed:v==="int",size:Number.parseInt(g)/8})}if(d==="address"&&typeof l=="string"&&!ar(l))throw new Da({address:l});const p=d.match(Ha);if(p){const[h,v]=p;if(v&&_e(l)!==Number.parseInt(v))throw new ja({expectedSize:Number.parseInt(v),givenSize:_e(l)})}const b=a[d];b&&(ii(d),s(b,l))}};if(a.EIP712Domain&&t){if(typeof t!="object")throw new Jo({domain:t});s(a.EIP712Domain,t)}if(r!=="EIP712Domain")if(a[r])s(a[r],n);else throw new Xo({primaryType:r,types:a})}function oi({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function ii(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new ei({type:e})}const ci=`Ethereum Signed Message:
`;function ui(e){const t=typeof e=="string"?mn(e):typeof e.raw=="string"?e.raw:We(e.raw),n=mn(`${ci}${_e(t)}`);return et([n,t])}function Dr(e,t){return K(ui(e),t)}const Hr="0x6492649264926492649264926492649264926492649264926492649264926492";function di(e){return Za(e,-32)===Hr}function li(e){const{address:t,data:n,signature:r,to:a="hex"}=e,s=Hn([nt([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Hr]);return a==="hex"?s:Ot(s)}const fi="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function pi(e,t){const{blockNumber:n,blockTag:r,calls:a,stateOverrides:s,traceAssetChanges:o,traceTransfers:i,validation:c}=t,u=t.account?ne(t.account):void 0;if(o&&!u)throw new D("`account` is required when `traceAssetChanges` is true");const d=u?Zo(Vo("constructor(bytes, bytes)"),{bytecode:Va,args:[fi,Ko(ge("function getBalance(address)"),[u.address])]}):void 0,l=o?await Promise.all(t.calls.map(async E=>{if(!E.data&&!E.abi)return;const{accessList:q}=await Br(e,{account:u.address,...E,data:E.abi?ie(E):E.data});return q.map(({address:$,storageKeys:O})=>O.length>0?$:null)})).then(E=>E.flat().filter(Boolean)):[],f=await At(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:l.map((E,q)=>({abi:[ge("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:E,from:X,nonce:q})),stateOverrides:[{address:X,nonce:0}]}]:[],{calls:[...a,{}].map(E=>({...E,from:u?.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:l.map((E,q)=>({abi:[ge("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:E,from:X,nonce:q})),stateOverrides:[{address:X,nonce:0}]},{calls:l.map((E,q)=>({to:E,abi:[ge("function decimals() returns (uint256)")],functionName:"decimals",from:X,nonce:q})),stateOverrides:[{address:X,nonce:0}]},{calls:l.map((E,q)=>({to:E,abi:[ge("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:X,nonce:q})),stateOverrides:[{address:X,nonce:0}]},{calls:l.map((E,q)=>({to:E,abi:[ge("function symbol() returns (string)")],functionName:"symbol",from:X,nonce:q})),stateOverrides:[{address:X,nonce:0}]}]:[]],traceTransfers:i,validation:c}),p=o?f[2]:f[0],[b,h,,v,g,x,k,A]=o?f:[],{calls:I,...F}=p,_=I.slice(0,-1)??[],P=b?.calls??[],y=h?.calls??[],T=[...P,...y].map(E=>E.status==="success"?ce(E.data):null),m=v?.calls??[],w=g?.calls??[],B=[...m,...w].map(E=>E.status==="success"?ce(E.data):null),C=(x?.calls??[]).map(E=>E.status==="success"?E.result:null),N=(A?.calls??[]).map(E=>E.status==="success"?E.result:null),S=(k?.calls??[]).map(E=>E.status==="success"?E.result:null),R=[];for(const[E,q]of B.entries()){const $=T[E];if(typeof q!="bigint"||typeof $!="bigint")continue;const O=C[E-1],L=N[E-1],G=S[E-1],H=E===0?{address:Qo,decimals:18,symbol:"ETH"}:{address:l[E-1],decimals:G||O?Number(O??1):void 0,symbol:L??void 0};R.some(z=>z.token.address===H.address)||R.push({token:H,value:{pre:$,post:q,diff:q-$}})}return{assetChanges:R,block:F,results:_}}const gt=new Map,Fn=new Map;let yi=0;function de(e,t,n){const r=++yi,a=()=>gt.get(e)||[],s=()=>{const d=a();gt.set(e,d.filter(l=>l.id!==r))},o=()=>{const d=a();if(!d.some(f=>f.id===r))return;const l=Fn.get(e);if(d.length===1&&l){const f=l();f instanceof Promise&&f.catch(()=>{})}s()},i=a();if(gt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const d in t)c[d]=(...l)=>{const f=a();if(f.length!==0)for(const p of f)p.fns[d]?.(...l)};const u=n(c);return typeof u=="function"&&Fn.set(e,u),o}function Le(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let a=!0;const s=()=>a=!1;return(async()=>{let i;t&&(i=await e({unpoll:s}));const c=await n?.(i)??r;await hn(c);const u=async()=>{a&&(await e({unpoll:s}),await hn(r),u())};u()})(),s}function mi(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:s,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=o??!1;let l;return u?(()=>{const b=oe(["watchBlocks",e.uid,t,n,r,d,c]);return de(b,{onBlock:a,onError:s},h=>Le(async()=>{try{const v=await M(e,ee,"getBlock")({blockTag:t,includeTransactions:d});if(v.number!==null&&l?.number!=null){if(v.number===l.number)return;if(v.number-l.number>1&&n)for(let g=l?.number+1n;g<v.number;g++){const x=await M(e,ee,"getBlock")({blockNumber:g,includeTransactions:d});h.onBlock(x,l),l=x}}(l?.number==null||t==="pending"&&v?.number==null||v.number!==null&&v.number>l.number)&&(h.onBlock(v,l),l=v)}catch(v){h.onError?.(v)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,h=!0,v=()=>b=!1;return(async()=>{try{r&&M(e,ee,"getBlock")({blockTag:t,includeTransactions:d}).then(k=>{b&&h&&(a(k,void 0),h=!1)}).catch(s);const g=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),{unsubscribe:x}=await g.subscribe({params:["newHeads"],async onData(k){if(!b)return;const A=await M(e,ee,"getBlock")({blockNumber:k.result?.number,includeTransactions:d}).catch(()=>{});b&&(a(A,l),h=!1,l=A)},onError(k){s?.(k)}});v=x,b||v()}catch(g){s?.(g)}})(),()=>v()})()}function jr(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:a,poll:s,pollingInterval:o=e.pollingInterval}){const i=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return i?(()=>{const l=oe(["watchBlockNumber",e.uid,t,n,o]);return de(l,{onBlockNumber:r,onError:a},f=>Le(async()=>{try{const p=await M(e,Ue,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)f.onBlockNumber(b,c),c=b}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){f.onError?.(p)}},{emitOnBegin:t,interval:o}))})():(()=>{const l=oe(["watchBlockNumber",e.uid,t,n]);return de(l,{onBlockNumber:r,onError:a},f=>{let p=!0,b=()=>p=!1;return(async()=>{try{const h=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return g?g.value:e.transport}return e.transport})(),{unsubscribe:v}=await h.subscribe({params:["newHeads"],onData(g){if(!p)return;const x=ce(g.result?.number);f.onBlockNumber(x,c),c=x},onError(g){f.onError?.(g)}});b=v,p||b()}catch(h){a?.(h)}})(),()=>b()})})()}async function ut(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function hi(e,{address:t,args:n,batch:r=!0,event:a,events:s,fromBlock:o,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),p=l??!1;return f?(()=>{const v=oe(["watchEvent",t,n,r,e.uid,a,d,o]);return de(v,{onLogs:c,onError:i},g=>{let x;o!==void 0&&(x=o-1n);let k,A=!1;const I=Le(async()=>{if(!A){try{k=await M(e,Ar,"createEventFilter")({address:t,args:n,event:a,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let F;if(k)F=await M(e,ot,"getFilterChanges")({filter:k});else{const _=await M(e,Ue,"getBlockNumber")({});x&&x!==_?F=await M(e,rn,"getLogs")({address:t,args:n,event:a,events:s,fromBlock:x+1n,toBlock:_}):F=[],x=_}if(F.length===0)return;if(r)g.onLogs(F);else for(const _ of F)g.onLogs([_])}catch(F){k&&F instanceof sr&&(A=!1),g.onError?.(F)}},{emitOnBegin:!0,interval:d});return async()=>{k&&await M(e,ut,"uninstallFilter")({filter:k}),I()}})})():(()=>{let v=!0,g=()=>v=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const F=e.transport.transports.find(_=>_.config.type==="webSocket"||_.config.type==="ipc");return F?F.value:e.transport}return e.transport})(),k=s??(a?[a]:void 0);let A=[];k&&(A=[k.flatMap(_=>ze({abi:[_],eventName:_.name,args:n}))],a&&(A=A[0]));const{unsubscribe:I}=await x.subscribe({params:["logs",{address:t,topics:A}],onData(F){if(!v)return;const _=F.result;try{const{eventName:P,args:y}=tn({abi:k??[],data:_.data,topics:_.topics,strict:p}),T=ue(_,{args:y,eventName:P});c([T])}catch(P){let y,T;if(P instanceof Fe||P instanceof rt){if(l)return;y=P.abiItem.name,T=P.abiItem.inputs?.some(w=>!("name"in w&&w.name))}const m=ue(_,{args:T?[]:{},eventName:y});c([m])}},onError(F){i?.(F)}});g=I,v||g()}catch(x){i?.(x)}})(),()=>g()})()}function bi(e,{batch:t=!0,onError:n,onTransactions:r,poll:a,pollingInterval:s=e.pollingInterval}){return(typeof a<"u"?a:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=oe(["watchPendingTransactions",e.uid,t,s]);return de(u,{onTransactions:r,onError:n},d=>{let l;const f=Le(async()=>{try{if(!l)try{l=await M(e,Nr,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const p=await M(e,ot,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){d.onError?.(p)}},{emitOnBegin:!0,interval:s});return async()=>{l&&await M(e,ut,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const p=f.result;r([p])},onError(f){n?.(f)}});d=l,u||d()}catch(l){n?.(l)}})(),()=>d()})()}function gi(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function wi(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Oe(e.nonce):void 0,storageProof:e.storageProof?gi(e.storageProof):void 0}}async function vi(e,{address:t,blockNumber:n,blockTag:r,storageKeys:a}){const s=r??"latest",o=n!==void 0?U(n):void 0,i=await e.request({method:"eth_getProof",params:[t,a,o||s]});return wi(i)}async function Zr(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:a,onReplaced:s,retryCount:o=6,retryDelay:i=({count:I})=>~~(1<<I)*200,timeout:c=18e4}=t,u=oe(["waitForTransactionReceipt",e.uid,a]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let l,f,p,b=!1,h,v;const{promise:g,resolve:x,reject:k}=Ka(),A=c?setTimeout(()=>{v(),h(),k(new Wa({hash:a}))},c):void 0;return h=de(u,{onReplaced:s,resolve:x,reject:k},async I=>{if(p=await M(e,Ke,"getTransactionReceipt")({hash:a}).catch(()=>{}),p&&r<=1){clearTimeout(A),I.resolve(p),h();return}v=M(e,jr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(F){const _=y=>{clearTimeout(A),v(),y(),h()};let P=F;if(!b)try{if(p){if(r>1&&(!p.blockNumber||P-p.blockNumber+1n<r))return;_(()=>I.resolve(p));return}if(n&&!l&&(b=!0,await bn(async()=>{l=await M(e,it,"getTransaction")({hash:a}),l.blockNumber&&(P=l.blockNumber)},{delay:i,retryCount:o}),b=!1),p=await M(e,Ke,"getTransactionReceipt")({hash:a}),r>1&&(!p.blockNumber||P-p.blockNumber+1n<r))return;_(()=>I.resolve(p))}catch(y){if(y instanceof Xn||y instanceof er){if(!l){b=!1;return}try{f=l,b=!0;const T=await bn(()=>M(e,ee,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:i,retryCount:o,shouldRetry:({error:B})=>B instanceof hr});b=!1;const m=T.transactions.find(({from:B,nonce:C})=>B===f.from&&C===f.nonce);if(!m||(p=await M(e,Ke,"getTransactionReceipt")({hash:m.hash}),r>1&&(!p.blockNumber||P-p.blockNumber+1n<r)))return;let w="replaced";m.to===f.to&&m.value===f.value&&m.input===f.input?w="repriced":m.from===m.to&&m.value===0n&&(w="cancelled"),_(()=>{I.onReplaced?.({reason:w,replacedTransaction:f,transaction:m,transactionReceipt:p}),I.resolve(p)})}catch(T){_(()=>I.reject(T))}}else _(()=>I.reject(y))}}})}),g}async function Ti(e,t){const{abi:n,address:r,args:a,dataSuffix:s,functionName:o,...i}=t,c=i.account?ne(i.account):e.account,u=ie({abi:n,args:a,functionName:o});try{const{data:d}=await M(e,at,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:r,...i,account:c}),l=$e({abi:n,args:a,functionName:o,data:d||"0x"}),f=n.filter(p=>"name"in p&&p.name===t.functionName);return{result:l,request:{abi:f,address:r,args:a,dataSuffix:s,functionName:o,...i,account:c}}}catch(d){throw Te(d,{abi:n,address:r,args:a,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}class Vr extends Ya{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Qa(t);const r=Ja(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,s=new Uint8Array(a);s.set(r.length>a?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Xa(s)}update(t){return gn(this),this.iHash.update(t),this}digestInto(t){gn(this),Ye(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:a,destroyed:s,blockLen:o,outputLen:i}=this;return t=t,t.finished=a,t.destroyed=s,t.blockLen=o,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Kr=(e,t,n)=>new Vr(e,t).update(n).digest();Kr.create=(e,t)=>new Vr(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const on=BigInt(0),Ft=BigInt(1);function Qe(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ge(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Wr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?on:BigInt("0x"+e)}function dt(e){return Wr(Me(e))}function Yr(e){return Ye(e),Wr(Me(Uint8Array.from(e).reverse()))}function cn(e,t){return jt(e.toString(16).padStart(t*2,"0"))}function Qr(e,t){return cn(e,t).reverse()}function Q(e,t,n){let r;if(typeof t=="string")try{r=jt(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(or(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=r.length;if(typeof n=="number"&&a!==n)throw new Error(e+" of length "+n+" expected, got "+a);return r}const wt=e=>typeof e=="bigint"&&on<=e;function Ei(e,t,n){return wt(e)&&wt(t)&&wt(n)&&t<=e&&e<n}function xi(e,t,n,r){if(!Ei(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ii(e){let t;for(t=0;e>on;e>>=Ft,t+=1);return t}const lt=e=>(Ft<<BigInt(e))-Ft;function Bi(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),a=p=>Uint8Array.of(p);let s=r(e),o=r(e),i=0;const c=()=>{s.fill(1),o.fill(0),i=0},u=(...p)=>n(o,s,...p),d=(p=r(0))=>{o=u(a(0),p),s=u(),p.length!==0&&(o=u(a(1),p),s=u())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const b=[];for(;p<t;){s=u();const h=s.slice();b.push(h),p+=s.length}return fe(...b)};return(p,b)=>{c(),d(p);let h;for(;!(h=b(l()));)d();return c(),h}}function un(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(a,s,o){const i=e[a];if(o&&i===void 0)return;const c=typeof i;if(c!==s||i===null)throw new Error(`param "${a}" is invalid: expected ${s}, got ${c}`)}Object.entries(t).forEach(([a,s])=>r(a,s,!1)),Object.entries(n).forEach(([a,s])=>r(a,s,!0))}function Rn(e){const t=new WeakMap;return(n,...r)=>{const a=t.get(n);if(a!==void 0)return a;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W=BigInt(0),Z=BigInt(1),pe=BigInt(2),ki=BigInt(3),Jr=BigInt(4),Xr=BigInt(5),ea=BigInt(8);function J(e,t){const n=e%t;return n>=W?n:t+n}function Y(e,t,n){let r=e;for(;t-- >W;)r*=r,r%=n;return r}function Mn(e,t){if(e===W)throw new Error("invert: expected non-zero number");if(t<=W)throw new Error("invert: expected positive modulus, got "+t);let n=J(e,t),r=t,a=W,s=Z;for(;n!==W;){const i=r/n,c=r%n,u=a-s*i;r=n,n=c,a=s,s=u}if(r!==Z)throw new Error("invert: does not exist");return J(a,t)}function ta(e,t){const n=(e.ORDER+Z)/Jr,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Ai(e,t){const n=(e.ORDER-Xr)/ea,r=e.mul(t,pe),a=e.pow(r,n),s=e.mul(t,a),o=e.mul(e.mul(s,pe),a),i=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function Ni(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Z,n=0;for(;t%pe===W;)t/=pe,n++;let r=pe;const a=ft(e);for(;On(a,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ta;let s=a.pow(r,t);const o=(t+Z)/pe;return function(c,u){if(c.is0(u))return u;if(On(c,u)!==1)throw new Error("Cannot find square root");let d=n,l=c.mul(c.ONE,s),f=c.pow(u,t),p=c.pow(u,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let b=1,h=c.sqr(f);for(;!c.eql(h,c.ONE);)if(b++,h=c.sqr(h),b===d)throw new Error("Cannot find square root");const v=Z<<BigInt(d-b-1),g=c.pow(l,v);d=b,l=c.sqr(g),f=c.mul(f,l),p=c.mul(p,g)}return p}}function Ci(e){return e%Jr===ki?ta:e%ea===Xr?Ai:Ni(e)}const Pi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Si(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Pi.reduce((r,a)=>(r[a]="function",r),t);return un(e,n),e}function _i(e,t,n){if(n<W)throw new Error("invalid exponent, negatives unsupported");if(n===W)return e.ONE;if(n===Z)return t;let r=e.ONE,a=t;for(;n>W;)n&Z&&(r=e.mul(r,a)),a=e.sqr(a),n>>=Z;return r}function na(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),a=t.reduce((o,i,c)=>e.is0(i)?o:(r[c]=o,e.mul(o,i)),e.ONE),s=e.inv(a);return t.reduceRight((o,i,c)=>e.is0(i)?o:(r[c]=e.mul(o,r[c]),e.mul(o,i)),s),r}function On(e,t){const n=(e.ORDER-Z)/pe,r=e.pow(t,n),a=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!a&&!s&&!o)throw new Error("invalid Legendre symbol result");return a?1:s?0:-1}function Fi(e,t){t!==void 0&&es(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ft(e,t,n=!1,r={}){if(e<=W)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,s;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const d=t;d.BITS&&(a=d.BITS),d.sqrt&&(s=d.sqrt),typeof d.isLE=="boolean"&&(n=d.isLE)}else typeof t=="number"&&(a=t),r.sqrt&&(s=r.sqrt);const{nBitLength:o,nByteLength:i}=Fi(e,a);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:i,MASK:lt(o),ZERO:W,ONE:Z,create:d=>J(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return W<=d&&d<e},is0:d=>d===W,isValidNot0:d=>!u.is0(d)&&u.isValid(d),isOdd:d=>(d&Z)===Z,neg:d=>J(-d,e),eql:(d,l)=>d===l,sqr:d=>J(d*d,e),add:(d,l)=>J(d+l,e),sub:(d,l)=>J(d-l,e),mul:(d,l)=>J(d*l,e),pow:(d,l)=>_i(u,d,l),div:(d,l)=>J(d*Mn(l,e),e),sqrN:d=>d*d,addN:(d,l)=>d+l,subN:(d,l)=>d-l,mulN:(d,l)=>d*l,inv:d=>Mn(d,e),sqrt:s||(d=>(c||(c=Ci(e)),c(u,d))),toBytes:d=>n?Qr(d,i):cn(d,i),fromBytes:d=>{if(d.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+d.length);return n?Yr(d):dt(d)},invertBatch:d=>na(u,d),cmov:(d,l,f)=>f?l:d});return Object.freeze(u)}function ra(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function aa(e){const t=ra(e);return t+Math.ceil(t/2)}function Ri(e,t,n=!1){const r=e.length,a=ra(t),s=aa(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Yr(e):dt(e),i=J(o,t-Z)+Z;return n?Qr(i,a):cn(i,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xe=BigInt(0),ye=BigInt(1);function Ce(e,t){const n=t.negate();return e?n:t}function Mi(e,t,n){const r=o=>o.pz,a=na(e.Fp,n.map(r));return n.map((o,i)=>o.toAffine(a[i])).map(e.fromAffine)}function sa(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function vt(e,t){sa(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),a=2**e,s=lt(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:a,shiftBy:o}}function qn(e,t,n){const{windowSize:r,mask:a,maxNumber:s,shiftBy:o}=n;let i=Number(e&a),c=e>>o;i>r&&(i-=s,c+=ye);const u=t*r,d=u+Math.abs(i)-1,l=i===0,f=i<0,p=t%2!==0;return{nextN:c,offset:d,isZero:l,isNeg:f,isNegF:p,offsetF:u}}function Oi(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function qi(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Tt=new WeakMap,oa=new WeakMap;function Et(e){return oa.get(e)||1}function $n(e){if(e!==xe)throw new Error("invalid wNAF")}function $i(e,t){return{constTimeNegate:Ce,hasPrecomputes(n){return Et(n)!==1},unsafeLadder(n,r,a=e.ZERO){let s=n;for(;r>xe;)r&ye&&(a=a.add(s)),s=s.double(),r>>=ye;return a},precomputeWindow(n,r){const{windows:a,windowSize:s}=vt(r,t),o=[];let i=n,c=i;for(let u=0;u<a;u++){c=i,o.push(c);for(let d=1;d<s;d++)c=c.add(i),o.push(c);i=c.double()}return o},wNAF(n,r,a){let s=e.ZERO,o=e.BASE;const i=vt(n,t);for(let c=0;c<i.windows;c++){const{nextN:u,offset:d,isZero:l,isNeg:f,isNegF:p,offsetF:b}=qn(a,c,i);a=u,l?o=o.add(Ce(p,r[b])):s=s.add(Ce(f,r[d]))}return $n(a),{p:s,f:o}},wNAFUnsafe(n,r,a,s=e.ZERO){const o=vt(n,t);for(let i=0;i<o.windows&&a!==xe;i++){const{nextN:c,offset:u,isZero:d,isNeg:l}=qn(a,i,o);if(a=c,!d){const f=r[u];s=s.add(l?f.negate():f)}}return $n(a),s},getPrecomputes(n,r,a){let s=Tt.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&(typeof a=="function"&&(s=a(s)),Tt.set(r,s))),s},wNAFCached(n,r,a){const s=Et(n);return this.wNAF(s,this.getPrecomputes(s,n,a),r)},wNAFCachedUnsafe(n,r,a,s){const o=Et(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,a),r,s)},setWindowSize(n,r){sa(r,t),oa.set(n,r),Tt.delete(n)}}}function zi(e,t,n,r){let a=t,s=e.ZERO,o=e.ZERO;for(;n>xe||r>xe;)n&ye&&(s=s.add(a)),r&ye&&(o=o.add(a)),a=a.double(),n>>=ye,r>>=ye;return{p1:s,p2:o}}function Ui(e,t,n,r){Oi(n,e),qi(r,t);const a=n.length,s=r.length;if(a!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=Ii(BigInt(a));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const u=lt(c),d=new Array(Number(u)+1).fill(o),l=Math.floor((t.BITS-1)/c)*c;let f=o;for(let p=l;p>=0;p-=c){d.fill(o);for(let h=0;h<s;h++){const v=r[h],g=Number(v>>BigInt(p)&u);d[g]=d[g].add(n[h])}let b=o;for(let h=d.length-1,v=o;h>0;h--)v=v.add(d[h]),b=b.add(v);if(f=f.add(b),p!==0)for(let h=0;h<c;h++)f=f.double()}return f}function zn(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Si(t),t}else return ft(e)}function Li(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const i of["p","n","h"]){const c=t[i];if(!(typeof c=="bigint"&&c>xe))throw new Error(`CURVE.${i} must be positive bigint`)}const r=zn(t.p,n.Fp),a=zn(t.n,n.Fn),o=["Gx","Gy","a","b"];for(const i of o)if(!r.isValid(t[i]))throw new Error(`CURVE.${i} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:a}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Un(e){e.lowS!==void 0&&Qe("lowS",e.lowS),e.prehash!==void 0&&Qe("prehash",e.prehash)}class Gi extends Error{constructor(t=""){super(t)}}const ae={Err:Gi,_tlv:{encode:(e,t)=>{const{Err:n}=ae;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,a=Ge(r);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ge(a.length/2|128):"";return Ge(e)+s+a+t},decode(e,t){const{Err:n}=ae;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const a=t[r++],s=!!(a&128);let o=0;if(!s)o=a;else{const c=a&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)o=o<<8|d;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+o);if(i.length!==o)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ae;if(e<Pe)throw new t("integer: negative integers are not allowed");let n=Ge(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return dt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ae,a=Q("signature",e),{v:s,l:o}=r.decode(48,a);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ae,r=t.encode(2,n.encode(e.r)),a=t.encode(2,n.encode(e.s)),s=r+a;return t.encode(48,s)}},Pe=BigInt(0),Se=BigInt(1),Di=BigInt(2),De=BigInt(3),Hi=BigInt(4);function ji(e,t,n){function r(a){const s=e.sqr(a),o=e.mul(s,a);return e.add(e.add(o,e.mul(a,t)),n)}return r}function ia(e,t,n){const{BYTES:r}=e;function a(s){let o;if(typeof s=="bigint")o=s;else{let i=Q("private key",s);if(t){if(!t.includes(i.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(i,c.length-i.length),i=c}try{o=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof s}`)}}if(n&&(o=e.create(o)),!e.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return a}function Zi(e,t={}){const{Fp:n,Fn:r}=Li("weierstrass",e,t),{h:a,n:s}=e;un(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!n.is0(e.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function i(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(P,y,T){const{x:m,y:w}=y.toAffine(),B=n.toBytes(m);if(Qe("isCompressed",T),T){i();const C=!n.isOdd(w);return fe(ca(C),B)}else return fe(Uint8Array.of(4),B,n.toBytes(w))}function u(P){Ye(P);const y=n.BYTES,T=y+1,m=2*y+1,w=P.length,B=P[0],C=P.subarray(1);if(w===T&&(B===2||B===3)){const N=n.fromBytes(C);if(!n.isValid(N))throw new Error("bad point: is not on curve, wrong x");const S=f(N);let R;try{R=n.sqrt(S)}catch($){const O=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+O)}i();const E=n.isOdd(R);return(B&1)===1!==E&&(R=n.neg(R)),{x:N,y:R}}else if(w===m&&B===4){const N=n.fromBytes(C.subarray(y*0,y*1)),S=n.fromBytes(C.subarray(y*1,y*2));if(!p(N,S))throw new Error("bad point: is not on curve");return{x:N,y:S}}else throw new Error(`bad point: got length ${w}, expected compressed=${T} or uncompressed=${m}`)}const d=t.toBytes||c,l=t.fromBytes||u,f=ji(n,e.a,e.b);function p(P,y){const T=n.sqr(y),m=f(P);return n.eql(T,m)}if(!p(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const b=n.mul(n.pow(e.a,De),Hi),h=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(b,h)))throw new Error("bad curve params: a or b");function v(P,y,T=!1){if(!n.isValid(y)||T&&n.is0(y))throw new Error(`bad point coordinate ${P}`);return y}function g(P){if(!(P instanceof I))throw new Error("ProjectivePoint expected")}const x=Rn((P,y)=>{const{px:T,py:m,pz:w}=P;if(n.eql(w,n.ONE))return{x:T,y:m};const B=P.is0();y==null&&(y=B?n.ONE:n.inv(w));const C=n.mul(T,y),N=n.mul(m,y),S=n.mul(w,y);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:C,y:N}}),k=Rn(P=>{if(P.is0()){if(t.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:y,y:T}=P.toAffine();if(!n.isValid(y)||!n.isValid(T))throw new Error("bad point: x or y not field elements");if(!p(y,T))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(P,y,T,m,w){return T=new I(n.mul(T.px,P),T.py,T.pz),y=Ce(m,y),T=Ce(w,T),y.add(T)}class I{constructor(y,T,m){this.px=v("x",y),this.py=v("y",T,!0),this.pz=v("z",m),Object.freeze(this)}static fromAffine(y){const{x:T,y:m}=y||{};if(!y||!n.isValid(T)||!n.isValid(m))throw new Error("invalid affine point");if(y instanceof I)throw new Error("projective point not allowed");return n.is0(T)&&n.is0(m)?I.ZERO:new I(T,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){return Mi(I,"pz",y)}static fromBytes(y){return Ye(y),I.fromHex(y)}static fromHex(y){const T=I.fromAffine(l(Q("pointHex",y)));return T.assertValidity(),T}static fromPrivateKey(y){const T=ia(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return I.BASE.multiply(T(y))}static msm(y,T){return Ui(I,r,y,T)}precompute(y=8,T=!0){return _.setWindowSize(this,y),T||this.multiply(De),this}_setWindowSize(y){this.precompute(y)}assertValidity(){k(this)}hasEvenY(){const{y}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(y)}equals(y){g(y);const{px:T,py:m,pz:w}=this,{px:B,py:C,pz:N}=y,S=n.eql(n.mul(T,N),n.mul(B,w)),R=n.eql(n.mul(m,N),n.mul(C,w));return S&&R}negate(){return new I(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:T}=e,m=n.mul(T,De),{px:w,py:B,pz:C}=this;let N=n.ZERO,S=n.ZERO,R=n.ZERO,E=n.mul(w,w),q=n.mul(B,B),$=n.mul(C,C),O=n.mul(w,B);return O=n.add(O,O),R=n.mul(w,C),R=n.add(R,R),N=n.mul(y,R),S=n.mul(m,$),S=n.add(N,S),N=n.sub(q,S),S=n.add(q,S),S=n.mul(N,S),N=n.mul(O,N),R=n.mul(m,R),$=n.mul(y,$),O=n.sub(E,$),O=n.mul(y,O),O=n.add(O,R),R=n.add(E,E),E=n.add(R,E),E=n.add(E,$),E=n.mul(E,O),S=n.add(S,E),$=n.mul(B,C),$=n.add($,$),E=n.mul($,O),N=n.sub(N,E),R=n.mul($,q),R=n.add(R,R),R=n.add(R,R),new I(N,S,R)}add(y){g(y);const{px:T,py:m,pz:w}=this,{px:B,py:C,pz:N}=y;let S=n.ZERO,R=n.ZERO,E=n.ZERO;const q=e.a,$=n.mul(e.b,De);let O=n.mul(T,B),L=n.mul(m,C),G=n.mul(w,N),H=n.add(T,m),z=n.add(B,C);H=n.mul(H,z),z=n.add(O,L),H=n.sub(H,z),z=n.add(T,w);let j=n.add(B,N);return z=n.mul(z,j),j=n.add(O,G),z=n.sub(z,j),j=n.add(m,w),S=n.add(C,N),j=n.mul(j,S),S=n.add(L,G),j=n.sub(j,S),E=n.mul(q,z),S=n.mul($,G),E=n.add(S,E),S=n.sub(L,E),E=n.add(L,E),R=n.mul(S,E),L=n.add(O,O),L=n.add(L,O),G=n.mul(q,G),z=n.mul($,z),L=n.add(L,G),G=n.sub(O,G),G=n.mul(q,G),z=n.add(z,G),O=n.mul(L,z),R=n.add(R,O),O=n.mul(j,z),S=n.mul(H,S),S=n.sub(S,O),O=n.mul(H,L),E=n.mul(j,E),E=n.add(E,O),new I(S,R,E)}subtract(y){return this.add(y.negate())}is0(){return this.equals(I.ZERO)}multiply(y){const{endo:T}=t;if(!r.isValidNot0(y))throw new Error("invalid scalar: out of range");let m,w;const B=C=>_.wNAFCached(this,C,I.normalizeZ);if(T){const{k1neg:C,k1:N,k2neg:S,k2:R}=T.splitScalar(y),{p:E,f:q}=B(N),{p:$,f:O}=B(R);w=q.add(O),m=A(T.beta,E,$,C,S)}else{const{p:C,f:N}=B(y);m=C,w=N}return I.normalizeZ([m,w])[0]}multiplyUnsafe(y){const{endo:T}=t,m=this;if(!r.isValid(y))throw new Error("invalid scalar: out of range");if(y===Pe||m.is0())return I.ZERO;if(y===Se)return m;if(_.hasPrecomputes(this))return this.multiply(y);if(T){const{k1neg:w,k1:B,k2neg:C,k2:N}=T.splitScalar(y),{p1:S,p2:R}=zi(I,m,B,N);return A(T.beta,S,R,w,C)}else return _.wNAFCachedUnsafe(m,y)}multiplyAndAddUnsafe(y,T,m){const w=this.multiplyUnsafe(T).add(y.multiplyUnsafe(m));return w.is0()?void 0:w}toAffine(y){return x(this,y)}isTorsionFree(){const{isTorsionFree:y}=t;return a===Se?!0:y?y(I,this):_.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:y}=t;return a===Se?this:y?y(I,this):this.multiplyUnsafe(a)}toBytes(y=!0){return Qe("isCompressed",y),this.assertValidity(),d(I,this,y)}toRawBytes(y=!0){return this.toBytes(y)}toHex(y=!0){return Me(this.toBytes(y))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(e.Gx,e.Gy,n.ONE),I.ZERO=new I(n.ZERO,n.ONE,n.ZERO),I.Fp=n,I.Fn=r;const F=r.BITS,_=$i(I,t.endo?Math.ceil(F/2):F);return I}function ca(e){return Uint8Array.of(e?2:3)}function Vi(e,t,n={}){un(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||ts,a=t.hmac||((m,...w)=>Kr(t.hash,m,fe(...w))),{Fp:s,Fn:o}=e,{ORDER:i,BITS:c}=o;function u(m){const w=i>>Se;return m>w}function d(m){return u(m)?o.neg(m):m}function l(m,w){if(!o.isValidNot0(w))throw new Error(`invalid signature ${m}: out of range 1..CURVE.n`)}class f{constructor(w,B,C){l("r",w),l("s",B),this.r=w,this.s=B,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(w){const B=o.BYTES,C=Q("compactSignature",w,B*2);return new f(o.fromBytes(C.subarray(0,B)),o.fromBytes(C.subarray(B,B*2)))}static fromDER(w){const{r:B,s:C}=ae.toSig(Q("DER",w));return new f(B,C)}assertValidity(){}addRecoveryBit(w){return new f(this.r,this.s,w)}recoverPublicKey(w){const B=s.ORDER,{r:C,s:N,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(i*Di<B&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const E=S===2||S===3?C+i:C;if(!s.isValid(E))throw new Error("recovery id 2 or 3 invalid");const q=s.toBytes(E),$=e.fromHex(fe(ca((S&1)===0),q)),O=o.inv(E),L=k(Q("msgHash",w)),G=o.create(-L*O),H=o.create(N*O),z=e.BASE.multiplyUnsafe(G).add($.multiplyUnsafe(H));if(z.is0())throw new Error("point at infinify");return z.assertValidity(),z}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(w){if(w==="compact")return fe(o.toBytes(this.r),o.toBytes(this.s));if(w==="der")return jt(ae.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Me(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Me(this.toBytes("compact"))}}const p=ia(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),b={isValidPrivateKey(m){try{return p(m),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const m=i;return Ri(r(aa(m)),m)},precompute(m=8,w=e.BASE){return w.precompute(m,!1)}};function h(m,w=!0){return e.fromPrivateKey(m).toBytes(w)}function v(m){if(typeof m=="bigint")return!1;if(m instanceof e)return!0;const B=Q("key",m).length,C=s.BYTES,N=C+1,S=2*C+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===N))return B===N||B===S}function g(m,w,B=!0){if(v(m)===!0)throw new Error("first arg must be private key");if(v(w)===!1)throw new Error("second arg must be public key");return e.fromHex(w).multiply(p(m)).toBytes(B)}const x=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const w=dt(m),B=m.length*8-c;return B>0?w>>BigInt(B):w},k=t.bits2int_modN||function(m){return o.create(x(m))},A=lt(c);function I(m){return xi("num < 2^"+c,m,Pe,A),o.toBytes(m)}function F(m,w,B=_){if(["recovered","canonical"].some(H=>H in B))throw new Error("sign() legacy options not supported");const{hash:C}=t;let{lowS:N,prehash:S,extraEntropy:R}=B;N==null&&(N=!0),m=Q("msgHash",m),Un(B),S&&(m=Q("prehashed msgHash",C(m)));const E=k(m),q=p(w),$=[I(q),I(E)];if(R!=null&&R!==!1){const H=R===!0?r(s.BYTES):R;$.push(Q("extraEntropy",H))}const O=fe(...$),L=E;function G(H){const z=x(H);if(!o.isValidNot0(z))return;const j=o.inv(z),Be=e.BASE.multiply(z).toAffine(),he=o.create(Be.x);if(he===Pe)return;const le=o.create(j*o.create(L+he*q));if(le===Pe)return;let yt=(Be.x===he?0:2)|Number(Be.y&Se),be=le;return N&&u(le)&&(be=d(le),yt^=1),new f(he,be,yt)}return{seed:O,k2sig:G}}const _={lowS:t.lowS,prehash:!1},P={lowS:t.lowS,prehash:!1};function y(m,w,B=_){const{seed:C,k2sig:N}=F(m,w,B);return Bi(t.hash.outputLen,o.BYTES,a)(C,N)}e.BASE.precompute(8);function T(m,w,B,C=P){const N=m;w=Q("msgHash",w),B=Q("publicKey",B),Un(C);const{lowS:S,prehash:R,format:E}=C;if("strict"in C)throw new Error("options.strict was renamed to lowS");if(E!==void 0&&!["compact","der","js"].includes(E))throw new Error('format must be "compact", "der" or "js"');const q=typeof N=="string"||or(N),$=!q&&!E&&typeof N=="object"&&N!==null&&typeof N.r=="bigint"&&typeof N.s=="bigint";if(!q&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let O,L;try{if($)if(E===void 0||E==="js")O=new f(N.r,N.s);else throw new Error("invalid format");if(q){try{E!=="compact"&&(O=f.fromDER(N))}catch(be){if(!(be instanceof ae.Err))throw be}!O&&E!=="der"&&(O=f.fromCompact(N))}L=e.fromHex(B)}catch{return!1}if(!O||S&&O.hasHighS())return!1;R&&(w=t.hash(w));const{r:G,s:H}=O,z=k(w),j=o.inv(H),Be=o.create(z*j),he=o.create(G*j),le=e.BASE.multiplyUnsafe(Be).add(L.multiplyUnsafe(he));return le.is0()?!1:o.create(le.x)===G}return Object.freeze({getPublicKey:h,getSharedSecret:g,sign:y,verify:T,utils:b,Point:e,Signature:f})}function Ki(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=ft(t.n,e.nBitLength),a={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:a}}function Wi(e){const{CURVE:t,curveOpts:n}=Ki(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Yi(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Qi(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Wi(e),a=Zi(t,n),s=Vi(a,r,n);return Yi(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ji(e,t){const n=r=>Qi({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Je={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const Xi=BigInt(1),Rt=BigInt(2),Ln=(e,t)=>(e+t/Rt)/t;function ec(e){const t=Je.p,n=BigInt(3),r=BigInt(6),a=BigInt(11),s=BigInt(22),o=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Y(d,n,t)*d%t,f=Y(l,n,t)*d%t,p=Y(f,Rt,t)*u%t,b=Y(p,a,t)*p%t,h=Y(b,s,t)*b%t,v=Y(h,i,t)*h%t,g=Y(v,c,t)*v%t,x=Y(g,i,t)*h%t,k=Y(x,n,t)*d%t,A=Y(k,o,t)*b%t,I=Y(A,r,t)*u%t,F=Y(I,Rt,t);if(!Mt.eql(Mt.sqr(F),e))throw new Error("Cannot find square root");return F}const Mt=ft(Je.p,void 0,void 0,{sqrt:ec}),ua=Ji({...Je,Fp:Mt,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Je.n,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Xi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),i=Ln(s*e,t),c=Ln(-r*e,t);let u=J(e-i*n-c*a,t),d=J(-i*r-c*s,t);const l=u>o,f=d>o;if(l&&(u=t-u),f&&(d=t-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:f,k2:d}}}},ns),tc=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:ua},Symbol.toStringTag,{value:"Module"}));function nc({r:e,s:t,to:n="hex",v:r,yParity:a}){const s=(()=>{if(a===0||a===1)return a;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new ua.Signature(ce(e),ce(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:Ot(o)}async function dn(e,t){const{address:n,factory:r,factoryData:a,hash:s,signature:o,universalSignatureVerifierAddress:i=e.chain?.contracts?.universalSignatureVerifier?.address,...c}=t,u=It(o)?o:typeof o=="object"&&"r"in o&&"s"in o?nc(o):We(o),d=await(async()=>!r&&!a||di(u)?u:li({address:r,data:a,signature:u}))();try{const l=i?{to:i,data:ie({abi:wn,functionName:"isValidSig",args:[n,s,d]}),...c}:{data:rs({abi:wn,args:[n,s,d],bytecode:as}),...c},{data:f}=await M(e,at,"call")(l);return ss(f??"0x0")}catch(l){try{if(Vt(ir(n),await yr({hash:s,signature:o})))return!0}catch{}if(l instanceof os)return!1;throw l}}async function rc(e,{address:t,message:n,factory:r,factoryData:a,signature:s,...o}){const i=Dr(n);return dn(e,{address:t,factory:r,factoryData:a,hash:i,signature:s,...o})}async function ac(e,t){const{address:n,factory:r,factoryData:a,signature:s,message:o,primaryType:i,types:c,domain:u,...d}=t,l=ti({message:o,primaryType:i,types:c,domain:u});return dn(e,{address:n,factory:r,factoryData:a,hash:l,signature:s,...d})}function sc(e,t){const{abi:n,address:r,args:a,batch:s=!0,eventName:o,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const v=f??!1,g=oe(["watchContractEvent",r,a,s,e.uid,o,l,v,i]);return de(g,{onLogs:u,onError:c},x=>{let k;i!==void 0&&(k=i-1n);let A,I=!1;const F=Le(async()=>{if(!I){try{A=await M(e,kr,"createContractEventFilter")({abi:n,address:r,args:a,eventName:o,strict:v,fromBlock:i})}catch{}I=!0;return}try{let _;if(A)_=await M(e,ot,"getFilterChanges")({filter:A});else{const P=await M(e,Ue,"getBlockNumber")({});k&&k<P?_=await M(e,Cr,"getContractEvents")({abi:n,address:r,args:a,eventName:o,fromBlock:k+1n,toBlock:P,strict:v}):_=[],k=P}if(_.length===0)return;if(s)x.onLogs(_);else for(const P of _)x.onLogs([P])}catch(_){A&&_ instanceof sr&&(I=!1),x.onError?.(_)}},{emitOnBegin:!0,interval:l});return async()=>{A&&await M(e,ut,"uninstallFilter")({filter:A}),F()}})})():(()=>{const v=f??!1,g=oe(["watchContractEvent",r,a,s,e.uid,o,l,v]);let x=!0,k=()=>x=!1;return de(g,{onLogs:u,onError:c},A=>((async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(y=>y.config.type==="webSocket"||y.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),F=o?ze({abi:n,eventName:o,args:a}):[],{unsubscribe:_}=await I.subscribe({params:["logs",{address:r,topics:F}],onData(P){if(!x)return;const y=P.result;try{const{eventName:T,args:m}=tn({abi:n,data:y.data,topics:y.topics,strict:f}),w=ue(y,{args:m,eventName:T});A.onLogs([w])}catch(T){let m,w;if(T instanceof Fe||T instanceof rt){if(f)return;m=T.abiItem.name,w=T.abiItem.inputs?.some(C=>!("name"in C&&C.name))}const B=ue(y,{args:w?[]:{},eventName:m});A.onLogs([B])}},onError(P){A.onError?.(P)}});k=_,x||k()}catch(I){c?.(I)}})(),()=>k()))})()}async function oc(e,t){const{abi:n,account:r=e.account,address:a,args:s,dataSuffix:o,functionName:i,...c}=t;if(typeof r>"u")throw new pr({docsPath:"/docs/contract/writeContract"});const u=r?ne(r):null,d=ie({abi:n,args:s,functionName:i});try{return await M(e,Ps,"sendTransaction")({data:`${d}${o?o.replace("0x",""):""}`,to:a,account:u,...c})}catch(l){throw Te(l,{abi:n,address:a,args:s,docsPath:"/docs/contract/writeContract",functionName:i,sender:u?.address})}}function ic(e,t={}){const{key:n="custom",methods:r,name:a="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>is({key:n,methods:r,name:a,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function cc(e){const{scheme:t,statement:n,...r}=e.match(uc)?.groups??{},{chainId:a,expirationTime:s,issuedAt:o,notBefore:i,requestId:c,...u}=e.match(dc)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...a?{chainId:Number(a)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const uc=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,dc=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function lc(e){const{address:t,domain:n,message:r,nonce:a,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||a&&r.nonce!==a||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ar(r.address,{strict:!1})||t&&!Vt(r.address,t))return!1}catch{return!1}return!0}async function fc(e,t){const{address:n,domain:r,message:a,nonce:s,scheme:o,signature:i,time:c=new Date,...u}=t,d=cc(a);if(!d.address||!lc({address:n,domain:r,message:d,nonce:s,scheme:o,time:c}))return!1;const f=Dr(a);return dn(e,{address:d.address,hash:f,signature:i,...u})}function pc(e){return{call:t=>at(e,t),createAccessList:t=>Br(e,t),createBlockFilter:()=>no(e),createContractEventFilter:t=>kr(e,t),createEventFilter:t=>Ar(e,t),createPendingTransactionFilter:()=>Nr(e),estimateContractGas:t=>ao(e,t),estimateGas:t=>Qt(e,t),getBalance:t=>gr(e,t),getBlobBaseFee:()=>so(e),getBlock:t=>ee(e,t),getBlockNumber:t=>Ue(e,t),getBlockTransactionCount:t=>fo(e,t),getBytecode:t=>Pn(e,t),getChainId:()=>Kt(e),getCode:t=>Pn(e,t),getContractEvents:t=>Cr(e,t),getEip712Domain:t=>ho(e,t),getEnsAddress:t=>Ls(e,t),getEnsAvatar:t=>eo(e,t),getEnsName:t=>cs(e,t),getEnsResolver:t=>to(e,t),getEnsText:t=>Ir(e,t),getFeeHistory:t=>wo(e,t),estimateFeesPerGas:t=>As(e,t),getFilterChanges:t=>ot(e,t),getFilterLogs:t=>vo(e,t),getGasPrice:()=>Yt(e),getLogs:t=>rn(e,t),getProof:t=>vi(e,t),estimateMaxPriorityFeePerGas:t=>ks(e,t),getStorageAt:t=>To(e,t),getTransaction:t=>it(e,t),getTransactionConfirmations:t=>Eo(e,t),getTransactionCount:t=>wr(e,t),getTransactionReceipt:t=>Ke(e,t),multicall:t=>xo(e,t),prepareTransactionRequest:t=>Jt(e,t),readContract:t=>se(e,t),sendRawTransaction:t=>Tr(e,t),simulate:t=>At(e,t),simulateBlocks:t=>At(e,t),simulateCalls:t=>pi(e,t),simulateContract:t=>Ti(e,t),verifyMessage:t=>rc(e,t),verifySiweMessage:t=>fc(e,t),verifyTypedData:t=>ac(e,t),uninstallFilter:t=>ut(e,t),waitForTransactionReceipt:t=>Zr(e,t),watchBlocks:t=>mi(e,t),watchBlockNumber:t=>jr(e,t),watchContractEvent:t=>sc(e,t),watchEvent:t=>hi(e,t),watchPendingTransactions:t=>bi(e,t)}}function Ac(e){const{key:t="public",name:n="Public Client"}=e;return cr({...e,key:t,name:n,type:"publicClient"}).extend(pc)}async function yc(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new us({connector:u});const[d,l]=await Promise.all([u.getAccounts().catch(f=>{if(t.account===null)return[];throw f}),u.getChainId()]);n={accounts:d,chainId:l,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new ds;const r=t.chainId??n.chainId,a=await n.connector.getChainId();if(a!==n.chainId)throw new ls({connectionChainId:n.chainId,connectorChainId:a});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=ne(t.account??n.accounts[0]);if(o&&(o.address=ir(o.address)),t.account&&!n.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new fs({address:o.address,connector:s});const i=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return cr({account:o,chain:i,name:"Connector Client",transport:u=>ic(c)({...u,retryCount:0})})}function mc(e,t){const{chainId:n,...r}=t,a=e.getClient({chainId:n});return Ne(a,se,"readContract")(r)}async function hc(e,t){const{chainId:n,timeout:r=0,...a}=t,s=e.getClient({chainId:n}),i=await Ne(s,Zr,"waitForTransactionReceipt")({...a,timeout:r});if(i.status==="reverted"){const u=await Ne(s,it,"getTransaction")({hash:i.transactionHash}),l=await Ne(s,at,"call")({...u,data:u.input,gasPrice:u.type!=="eip1559"?u.gasPrice:void 0,maxFeePerGas:u.type==="eip1559"?u.maxFeePerGas:void 0,maxPriorityFeePerGas:u.type==="eip1559"?u.maxPriorityFeePerGas:void 0}),f=l?.data?ps(`0x${l.data.substring(138)}`):"unknown reason";throw new Error(f)}return{...i,chainId:s.chain.id}}async function bc(e,t){const{account:n,chainId:r,connector:a,...s}=t;let o;return typeof n=="object"&&n?.type==="local"?o=e.getClient({chainId:r}):o=await yc(e,{account:n??void 0,chainId:r,connector:a}),await Ne(o,oc,"writeContract")({...s,...n?{account:n}:{},chain:r?{id:r}:null})}function gc(e,t={}){return{async queryFn({queryKey:n}){const r=t.abi;if(!r)throw new Error("abi is required");const{functionName:a,scopeKey:s,...o}=n[1],i=(()=>{const c=n[1];if(c.address)return{address:c.address};if(c.code)return{code:c.code};throw new Error("address or code is required")})();if(!a)throw new Error("functionName is required");return mc(e,{abi:r,functionName:a,args:o.args,...i,...o})},queryKey:wc(t)}}function wc(e={}){const{abi:t,...n}=e;return["readContract",ur(n)]}function vc(e,t={}){return{async queryFn({queryKey:n}){const{hash:r,...a}=n[1];if(!r)throw new Error("hash is required");return hc(e,{...a,onReplaced:t.onReplaced,hash:r})},queryKey:Tc(t)}}function Tc(e={}){const{onReplaced:t,...n}=e;return["waitForTransactionReceipt",ur(n)]}function Ec(e){return{mutationFn(t){return bc(e,t)},mutationKey:["writeContract"]}}function Nc(e={}){const{abi:t,address:n,functionName:r,query:a={}}=e,s=e.code,o=Zt(e),i=dr({config:o}),c=gc(o,{...e,chainId:e.chainId??i}),u=!!((n||s)&&t&&r&&(a.enabled??!0));return lr({...a,...c,enabled:u,structuralSharing:a.structuralSharing??ys})}function Cc(e={}){const{hash:t,query:n={}}=e,r=Zt(e),a=dr({config:r}),s=vc(r,{...e,chainId:e.chainId??a}),o=!!(t&&(n.enabled??!0));return lr({...n,...s,enabled:o})}function Pc(e={}){const{mutation:t}=e,n=Zt(e),r=Ec(n),{mutate:a,mutateAsync:s,...o}=ms({...t,...r});return{...o,writeContract:a,writeContractAsync:s}}const Ae=11155111,xc=hs({...vn,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...vn.contracts,disputeGameFactory:{[Ae]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[Ae]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[Ae]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[Ae]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:Ae}),He=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"GenImTokenNotFound",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"GenImTokenNotListed",type:"error"},{inputs:[{internalType:"uint256",name:"required",type:"uint256"},{internalType:"uint256",name:"provided",type:"uint256"}],name:"InsufficientPayment",type:"error"},{inputs:[],name:"InvalidGenImNFTContract",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"PaymentToCreatorFailed",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[],name:"RefundFailed",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"collectorTokenId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"genImTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"collector",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"uint256",name:"mintNumber",type:"uint256"}],name:"CollectorNFTMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"genImNFTContract",type:"address"},{indexed:!1,internalType:"uint256",name:"baseMintPrice",type:"uint256"}],name:"ContractInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"genImTokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"PaymentSentToCreator",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseMintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collectorToGenImToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"collectorTokensByGenImToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"genImNFTContract",outputs:[{internalType:"contract IGenImNFTWithListing",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"genImTokenId",type:"uint256"}],name:"getCollectorTokensForGenIm",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"genImTokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"collectorTokenId",type:"uint256"}],name:"getGenImTokenIdForCollector",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"genImTokenId",type:"uint256"}],name:"getMintStats",outputs:[{internalType:"uint256",name:"mintCount",type:"uint256"},{internalType:"uint256",name:"currentPrice",type:"uint256"},{internalType:"uint256",name:"nextPrice",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"collectorTokenId",type:"uint256"}],name:"getOriginalGenImURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_genImNFTContract",type:"address"},{internalType:"uint256",name:"_baseMintPrice",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"genImTokenId",type:"uint256"}],name:"mintCollectorNFT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"mintCountPerGenImToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_baseMintPrice",type:"uint256"}],name:"setBaseMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_genImNFTContract",type:"address"}],name:"updateGenImNFTContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"}],xt=[{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[],name:"ERC721EnumerableForbiddenBatchMint",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"ERC721OutOfBoundsIndex",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"updater",type:"address"},{indexed:!1,internalType:"string",name:"imageUrl",type:"string"}],name:"ImageUpdateRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"updater",type:"address"}],name:"ImageUpdaterAuthorized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"bool",name:"isListed",type:"bool"}],name:"TokenListingChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"updater",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"UpdaterPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAllPublicTokens",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getAuthorizedImageUpdater",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getPublicTokensOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isImageUpdated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isTokenListed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"reinitializeV3",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"imageUrl",type:"string"}],name:"requestImageUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"},{internalType:"bool",name:"isListed",type:"bool"}],name:"safeMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"bool",name:"isListed",type:"bool"}],name:"setMultipleTokensListed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bool",name:"isListed",type:"bool"}],name:"setTokenListed",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],je=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"bytes32",name:"urlHash",type:"bytes32"},{indexed:!1,internalType:"string",name:"url",type:"string"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LikeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"donate",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"string",name:"_url",type:"string"}],name:"getLikesForUrl",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"urlLikes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Gn={BASE_ASSETS:"/",BASE_SERVER:"/",BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Dn={};function pt(e,t){try{if(typeof import.meta<"u"&&Gn)return Gn[e]||t}catch{}try{if(typeof process<"u"&&Dn)return Dn[e]||t}catch{}return t}function Sc(){switch(pt("PUBLIC_ENV__CHAIN_NAME","optimism")){case"sepolia":return bs;case"optimism":return Tn;case"optimismSepolia":return xc;default:return Tn}}function _c(){switch(pt("PUBLIC_ENV__CHAIN_NAME","optimism")){case"sepolia":return{address:"0xf18E3901D91D8a08380E37A466E6F7f6AA4BD4a6",abi:xt};case"optimism":return{address:"0x80f95d330417a4acEfEA415FE9eE28db7A0A1Cdb",abi:xt};default:return{address:"0x80f95d330417a4acEfEA415FE9eE28db7A0A1Cdb",abi:xt}}}function Fc(){switch(pt("PUBLIC_ENV__CHAIN_NAME","optimism")){case"sepolia":return{address:"0xf137ca5dc45e3d0336ac2daa26084b0eaf244684",abi:je};case"optimism":return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:je};case"optimismSepolia":return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:je};default:return{address:"0x314B07fBd33A7343479e99E6682D5Ee1da7F17c1",abi:je}}}function Rc(){switch(pt("PUBLIC_ENV__CHAIN_NAME","optimism")){case"sepolia":return{address:"0x0000000000000000000000000000000000000000",abi:He};case"optimism":return{address:"0x584c40d8a7cA164933b5F90a2dC11ddCB4a924ea",abi:He};case"optimismSepolia":return{address:"0x0000000000000000000000000000000000000000",abi:He};default:return{address:"0x584c40d8a7cA164933b5F90a2dC11ddCB4a924ea",abi:He}}}export{Sc as a,Pc as b,Cc as c,Rc as d,Ac as e,Fc as f,_c as g,mc as r,Nc as u};
