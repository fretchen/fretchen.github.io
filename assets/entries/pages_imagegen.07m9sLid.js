import{r as s,j as e,i as g,o as f,L as m,a as x,b as y}from"../chunks/chunk-D-XB6m77.js";/* empty css                      */import"../chunks/chunk-BcEW-Cv4.js";/* empty css                      */function T({onGenerate:r}){const[t,l]=s.useState(""),[a,d]=s.useState(!1),[p,u]=s.useState(null),h=async()=>{if(t.trim()){d(!0),u(null);try{const i=await fetch(`https://mypersonalcloudmaqsyplo-ionosimagegen.functions.fnc.fr-par.scw.cloud?prompt=${encodeURIComponent(t)}`);if(!i.ok)throw new Error(`Error: ${i.status} ${i.statusText}`);const c=await i.json();console.log("API Response:",c);const n=c.b64_image;console.log("Image Base64 (first 50 chars):",n==null?void 0:n.substring(0,50)),r(n)}catch(o){u(o instanceof Error?o.message:"An unknown error occurred"),console.error("Error during API call:",o)}finally{d(!1)}}};return e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",flexDirection:"column"},children:[e.jsx("textarea",{value:t,onChange:o=>l(o.target.value),placeholder:"Describe your picture...",style:{padding:"8px",width:"300px",height:"150px",borderRadius:"4px",border:"1px solid #ccc",resize:"vertical"}}),e.jsx("button",{onClick:h,disabled:a||!t.trim(),style:{padding:"8px 16px",backgroundColor:"#0066cc",color:"white",border:"none",borderRadius:"4px",cursor:a||!t.trim()?"not-allowed":"pointer",width:"300px",opacity:a||!t.trim()?.7:1},children:a?"Generating...":"Generate image"}),p&&e.jsx("p",{style:{color:"red",margin:"10px 0"},children:p})]})})}function v({imageBase64:r}){return e.jsx("div",{style:{width:"300px",height:"300px",border:"2px dashed #ccc",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:r?e.jsx("img",{src:`data:image/jpeg;base64,${r}`,alt:"Generated",style:{maxWidth:"100%",maxHeight:"100%"}}):e.jsx("p",{style:{color:"#666"},children:"Your image will appear here"})})}function S(){const[r,t]=s.useState(),l=a=>{console.log("Received image base64:",a?"yes (length: "+a.length+")":"no"),t(a)};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Image Generator"}),e.jsx("p",{children:"On this page I have started to implement an image generator. Anything different to your standard setup ?"}),e.jsx("p",{children:"It is a simple React component that sends a prompt to an API and displays the generated image. And it is fully privacy conserving."}),e.jsx(T,{onGenerate:l}),e.jsx(v,{imageBase64:r})]})}const w=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"})),A={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:g}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:f}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:m}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Notes by fretchen"}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:x}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/imagegen/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:w}}};export{A as configValuesSerialized};
