import{r as s,j as e,i as m,L as x,a as y,b as T,o as S}from"../chunks/chunk-DZ6Xj57n.js";/* empty css                      */import"../chunks/chunk-jmb4uHi1.js";/* empty css                      */function v({onGenerate:a}){const[t,l]=s.useState(""),[r,d]=s.useState(!1),[p,u]=s.useState(null),h=async()=>{if(t.trim()){d(!0),u(null);try{const i=await fetch(`https://mypersonalcloudmaqsyplo-ionosimagegen.functions.fnc.fr-par.scw.cloud?prompt=${encodeURIComponent(t)}`);if(!i.ok)throw new Error(`Error: ${i.status} ${i.statusText}`);const c=await i.json();console.log("First request finished"),console.log(c);const g=c.image_url,n=await fetch(g);if(!n.ok)throw new Error(`Error fetching image: ${n.status} ${n.statusText}`);const f=(await n.json()).b64_image;a(f)}catch(o){u(o instanceof Error?o.message:"An unknown error occurred")}finally{d(!1)}}};return e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px",flexDirection:"column"},children:[e.jsx("textarea",{value:t,onChange:o=>l(o.target.value),placeholder:"Describe your picture...",style:{padding:"8px",width:"300px",height:"150px",borderRadius:"4px",border:"1px solid #ccc",resize:"vertical"}}),e.jsx("button",{onClick:h,disabled:r||!t.trim(),style:{padding:"8px 16px",backgroundColor:"#0066cc",color:"white",border:"none",borderRadius:"4px",cursor:r||!t.trim()?"not-allowed":"pointer",width:"300px",opacity:r||!t.trim()?.7:1},children:r?"Generating...":"Generate image"}),p&&e.jsx("p",{style:{color:"red",margin:"10px 0"},children:p})]})})}function w({imageBase64:a}){return e.jsx("div",{style:{width:"300px",height:"300px",border:"2px dashed #ccc",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"20px"},children:a?e.jsx("img",{src:`data:image/jpeg;base64,${a}`,alt:"Generated",style:{maxWidth:"100%",maxHeight:"100%"}}):e.jsx("p",{style:{color:"#666"},children:"Your image will appear here"})})}function j(){const[a,t]=s.useState(),l=r=>{t(r)};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Image Generator"}),e.jsx("p",{children:"On this page I have started to implement an image generator. Anything different to your standard setup ?"}),e.jsx("p",{children:"It is a simple React component that sends a prompt to an API and displays the generated image. And it is fully privacy conserving."}),e.jsx(v,{onGenerate:l}),e.jsx(w,{imageBase64:a})]})}const P=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),A={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:S}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:T}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/imagegen/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:P}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:x}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","title"]},valueSerialized:{type:"js-serialized",value:"Notes by fretchen"}},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:m}}};export{A as configValuesSerialized};
