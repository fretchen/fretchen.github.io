import{aP as De,aQ as Fe,aR as Re,O as Ne,r as l,P as ze,c as A,j as e,u as Be,aS as Oe,aT as _e,aU as Me,T as Z,aV as Se,U as We,S as w,aW as F,aX as d,aY as Q,aZ as He,an as re,a_ as Ge,a$ as H,b0 as se,Q as ye,b1 as qe,b2 as be,b3 as O,g as Ve,F as Ye,a as Qe,W as Ze,d as Ke,e as Xe,f as Je,o as et}from"../chunks/chunk-Dv2Fn-IZ.js";import{u as ie,a as ce,d as P,b as oe,c as xe,e as Te,r as we}from"../chunks/chunk-BpIeGAVU.js";import{d as tt}from"../chunks/chunk-CT5atk_u.js";import{u as Ie}from"../chunks/chunk-BQavAYfW.js";/* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-Dieuo1bP.js";import"../chunks/chunk-CbXDQnsY.js";let pe=[];function ke(t){const a=t.chains;return De(pe,a)?pe:(pe=a,a)}async function at(t,a){const{addEthereumChainParameter:n,chainId:s}=a,c=t.state.connections.get(a.connector?.uid??t.state.current);if(c){const o=c.connector;if(!o.switchChain)throw new Fe({connector:o});return await o.switchChain({addEthereumChainParameter:n,chainId:s})}const i=t.chains.find(o=>o.id===s);if(!i)throw new Re;return t.setState(o=>({...o,chainId:s})),i}function nt(t,a){const{onChange:n}=a;return t._internal.chains.subscribe((s,c)=>{n(s,c)})}function st(t){return{mutationFn(a){return at(t,a)},mutationKey:["switchChain"]}}function rt(t={}){const a=Ne(t);return l.useSyncExternalStore(n=>nt(a,{onChange:n}),()=>ke(a),()=>ke(a))}function ot(t={}){const{mutation:a}=t,n=Ne(t),s=st(n),{mutate:c,mutateAsync:i,...o}=ze({...a,...s});return{...o,chains:rt({config:n}),switchChain:c,switchChainAsync:i}}function Ce({size:t="sm",className:a}){const n={xs:A({fontSize:"xs",lineHeight:"1"}),sm:A({fontSize:"sm",lineHeight:"1"}),md:A({fontSize:"md",lineHeight:"1"})},s=A({display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",borderRadius:"50%",backgroundColor:"blue.100",color:"blue.600",fontWeight:"bold",cursor:"help"});return e.jsx("span",{className:`${s} ${n[t]} ${a||""}`,role:"img","aria-label":"Information",children:"i"})}function je({label:t,locale:a}){const s=Be(),c=a??s.locale??tt,o=Oe(c==="de"?_e:Me,t);return e.jsx("span",{"data-locale":c,children:o})}const it=async t=>new Promise((a,n)=>{const s=async()=>{try{const c=await window.ethereum.request({method:"eth_getTransactionReceipt",params:[t]});c?a(c):setTimeout(s,2e3)}catch(c){n(c)}};s()});function ct({apiUrl:t="https://mypersonaljscloudivnad9dy-readnftv2.functions.fnc.fr-par.scw.cloud",onSuccess:a,onError:n}){const[s,c]=l.useState(),[i,o]=l.useState(),[m,u]=l.useState(""),[g,y]=l.useState("1024x1024"),[T,$]=l.useState(!1),[L,j]=l.useState(!1),[S,r]=l.useState("idle"),[U,v]=l.useState(null),{address:f,isConnected:p}=Z(),N=ce(),D=Se(),{switchChain:I,isPending:E}=ot(),{connectors:_,connect:G}=We(),{data:M}=ie({...P,functionName:"mintPrice",args:[],...N?.id&&{chainId:N.id}}),{writeContractAsync:K}=oe(),W=async h=>new Promise((x,B)=>{const me=()=>{D===h?x():setTimeout(me,100)};setTimeout(()=>{B(new Error("Chain switch timeout - please try again"))},1e4),me()}),q=()=>{_.length>0&&G({connector:_[0]})},V=w({label:"imagegen.connectWalletButton"}),R=w({label:"imagegen.connectWalletTitle"}),X=w({label:"imagegen.enterPrompt"}),le=w({label:"imagegen.switchingNetwork"}),de=w({label:"imagegen.creating"}),ue=w({label:"imagegen.generating"}),J=w({label:"imagegen.createArtwork"}),k=()=>E?"switching":L?"loading":p?m.trim()?"ready":"needsPrompt":"connect",b=h=>{switch(h){case"switching":return le;case"loading":return S==="minting"?de:ue;case"connect":return V;case"needsPrompt":return X;case"ready":return J;default:return J}},C=k(),z=()=>e.jsxs("button",{onClick:q,className:`${re}`,title:R,"aria-describedby":"create-artwork-info",children:["🔗 ",V]}),ee=()=>{const h=C==="needsPrompt",x=C==="loading"||C==="switching";return e.jsx("button",{onClick:te,disabled:h,className:`${re} ${h?Ge:""}`,title:w({label:"imagegen.mintingInfo"}),"aria-describedby":"create-artwork-info",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:Q}),b(C)]}):e.jsxs(e.Fragment,{children:["🎨 ",b(C),e.jsx(Ce,{size:"xs",className:A({ml:"1",opacity:"0.7"})})]})})},te=async()=>{if(!p||!f){const x="Please connect your account first";v(x),n?.(x);return}const h=N?.id;if(h&&D!==h)try{v("Switching to Optimism network..."),await I({chainId:h}),await W(h),v(null)}catch(x){console.error("Failed to switch chain:",x);const B=x instanceof Error?x.message:"Please switch to Optimism network to create artworks";v(B),n?.(B);return}if(!m.trim()){const x="Please enter a prompt";v(x),n?.(x);return}if(!M){const x="Could not load creation fee from system";v(x),n?.(x);return}j(!0),v(null),r("minting");try{const B=await K({...P,functionName:"safeMint",args:["",T],value:M,...N?.id&&{chainId:N.id}});console.log("Minting transaction sent:",B);const he=(await it(B))?.logs.find(Ue=>Ue.topics[0]==="0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef");if(!he||he.topics.length<4)throw new Error("Could not extract artwork ID from transaction");const $e=he.topics[3],Y=BigInt($e);console.log("Created artwork ID:",Y),o(Y),r("generating");const ne=await fetch(`${t}?prompt=${encodeURIComponent(m)}&tokenId=${Y}&size=${g}`);if(!ne.ok)throw new Error(`Error: ${ne.status} ${ne.statusText}`);const ge=await ne.json();console.log("Image generation completed",ge);const fe=ge.image_url;c(fe),r("idle");const Ae={name:`AI Generated Artwork #${Y}`,description:`AI generated artwork based on the prompt: "${m}"`,image:fe,external_url:ge.metadata_url||"",attributes:[{trait_type:"Prompt",value:m},{trait_type:"Generation Method",value:"AI Generated"}]};a?.(Y,fe,Ae),setTimeout(()=>{u(""),y("1024x1024"),c(void 0),o(void 0),v(null)},3e3)}catch(x){console.error("Error:",x);const B=x instanceof Error?x.message:"An unknown error occurred";v(B),r("error"),n?.(B)}finally{j(!1)}},ae=w({label:"imagegen.mintingInfo"});return e.jsx("div",{className:F.compactLayout,children:e.jsxs("div",{className:F.compactContainer,children:[e.jsx("div",{className:F.compactHeader,children:e.jsxs("h3",{className:F.compactTitle,children:["🎨",e.jsx(je,{label:"imagegen.title"})]})}),e.jsxs("div",{className:F.compactForm,children:[e.jsx("textarea",{value:m,onChange:h=>u(h.target.value),placeholder:w({label:"imagegen.promptPlaceholder"}),disabled:L||S!=="idle"||E,className:F.compactTextarea}),e.jsxs("div",{className:F.controlBar,children:[e.jsxs("div",{className:F.optionsGroup,children:[e.jsxs("select",{id:"imageSizeSelect",value:g,onChange:h=>y(h.target.value),disabled:L||S!=="idle"||E,className:F.compactSelect,"aria-label":"Select image format for your artwork",children:[e.jsx("option",{value:"1024x1024",children:w({label:"imagegen.square"})}),e.jsx("option",{value:"1792x1024",children:w({label:"imagegen.wide"})})]}),e.jsxs("label",{className:d.checkboxLabel,title:T?"NFT will be publicly visible in the 'All Public Artworks' gallery":"NFT will remain unlisted from the 'All Public Artworks' gallery",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:h=>$(h.target.checked),disabled:L||S!=="idle"||E,className:d.checkbox}),e.jsx(je,{label:"imagegen.listed"})]})]}),C==="connect"?e.jsx(z,{}):e.jsx(ee,{})]})]}),e.jsxs("div",{className:A({mt:"2",fontSize:"xs",color:"gray.600",textAlign:"center"}),children:["Powered by"," ",e.jsx("a",{href:"https://optimism.io",target:"_blank",rel:"noopener noreferrer","aria-label":"Learn more about Optimism (opens in new tab)",className:A({color:"blue.600",textDecoration:"underline",_hover:{color:"blue.800"}}),children:"Optimism"})," ","•"," ",e.jsx("a",{href:`https://optimistic.etherscan.io/address/${P.address}`,target:"_blank",rel:"noopener noreferrer","aria-label":"View smart contract on Optimism Etherscan (opens in new tab)",className:A({color:"blue.600",textDecoration:"underline",_hover:{color:"blue.800"}}),children:"View Contract ↗"})]}),e.jsx("span",{id:"create-artwork-info",className:A({position:"absolute",left:"-9999px",top:"auto",width:"1px",height:"1px",overflow:"hidden"}),children:w({label:"imagegen.mintingInfo"})}),e.jsxs("div",{className:A({display:{base:"block",md:"none"},mt:"2",fontSize:"xs",color:"gray.600",textAlign:"center"}),children:[e.jsx(Ce,{size:"xs",className:A({mr:"1"})}),ae]}),S!=="idle"&&e.jsxs("div",{className:F.compactStatus,children:[e.jsx("div",{className:Q}),e.jsx("span",{children:S==="minting"?"Creating your artwork...":"Generating image..."})]}),U&&e.jsx("div",{className:F.compactError,children:U}),i&&s&&e.jsxs("div",{className:He,children:[e.jsx("h4",{className:A({margin:0,fontSize:"sm"}),children:"✅ Artwork created successfully!"}),e.jsxs("p",{className:A({margin:"xs 0",fontSize:"sm"}),children:["ID: ",i.toString()," - Check your gallery below"]})]})]})})}function ve({label:t,isActive:a,onClick:n}){return e.jsx("button",{className:`${H.tab} ${a?H.activeTab:""}`,onClick:n,"aria-selected":a,children:t})}function lt({message:t,type:a,duration:n,onClose:s}){const c=l.useRef(null);l.useEffect(()=>{const m=n??(a==="error"?4e3:a==="warning"?5e3:3e3);return c.current=setTimeout(()=>{s()},m),()=>{c.current&&clearTimeout(c.current)}},[n,a,s]);const i=()=>{switch(a){case"success":return"✅";case"warning":return"⚠️";case"error":default:return"❌"}};return e.jsx("div",{className:se.container,children:e.jsxs("div",{className:se.content,"data-type":a,children:[e.jsx("span",{className:se.icon,children:i()}),e.jsx("span",{className:se.message,children:t})]})})}function Pe(){const[t,a]=l.useState(null),n=(i,o="error",m)=>{a({message:i,type:o,duration:m})},s=()=>{a(null)},c=t?e.jsx(lt,{message:t.message,type:t.type,duration:t.duration,onClose:s}):null;return{showToast:n,hideToast:s,ToastComponent:c}}function dt({genImTokenId:t}){const[a,n]=l.useState(!1),{isConnected:s}=Z(),c=Se(),{writeContract:i,isPending:o,data:m,error:u}=oe(),{isLoading:g,isSuccess:y}=xe({hash:m}),T=ce(),$=c===T.id,L=w({label:"imagegen.collect"}),{data:j,error:S,isPending:r,refetch:U}=ie({...Te,functionName:"getMintStats",args:[t],chainId:T.id}),v=async()=>{if(!s||!$||!j||!Array.isArray(j))return;n(!0);const[,N]=j;i({...Te,functionName:"mintCollectorNFT",args:[t],value:N})};l.useEffect(()=>{y&&(n(!1),setTimeout(()=>{U()},2e3)),u&&n(!1)},[y,u,U]);const f=()=>{if(r)return"...";if(S||!j||!Array.isArray(j))return"0";const[N]=j;return N.toString()},p=()=>{if(r||S||!j||!Array.isArray(j))return"Price loading...";const[N,D]=j,I=ye(D),E=V=>{const R=parseFloat(V);return R>=.001?R.toFixed(3):R>=1e-4?R.toFixed(4):R.toFixed(6)},_=E(I),G=Number(N),M=Math.ceil((G+1)/5)*5,W=D/BigInt(2**Math.floor(G/5))*BigInt(2**Math.floor(M/5)),q=E(ye(W));return`Current price: ${_} ETH | Price after ${M} mints: ${q} ETH`};return e.jsx("button",{onClick:v,disabled:!s||a||o||g||!$,className:`${d.actionButton} ${re}`,title:`Collect this NFT (${f()} collected) | ${p()}`,children:a||o?"📦 Collecting...":y?"✅ Collected!":`📦 ${L} (${f()})`})}function Le({tokenId:t,onImageClick:a,onNftBurned:n,onListedStatusChanged:s,isHighlighted:c=!1,isPublicView:i=!1,preloadedImageUrl:o,preloadedMetadata:m}){const{writeContract:u,isPending:g,data:y}=oe(),{writeContract:T,isPending:$,data:L}=oe(),[j,S]=l.useState(!1),[r,U]=l.useState({tokenId:t,tokenURI:"",imageUrl:o,metadata:m,isLoading:!o}),[v,f]=l.useState(""),{showToast:p,ToastComponent:N}=Pe(),D=w({label:"imagegen.artwork"}),I=w({label:"imagegen.listed"}),E=w({label:"imagegen.download"}),_=w({label:"imagegen.share"}),G=w({label:"imagegen.delete"}),M=Ie(),K=async k=>{try{if(k.startsWith("file://"))return console.warn("Cannot fetch file:// URLs in browser. Metadata:",k),null;const b=await fetch(k);if(!b.ok)throw new Error(`Failed to fetch metadata: ${b.status}`);return await b.json()}catch(b){return console.error("Error fetching NFT metadata:",b),null}};l.useEffect(()=>{(async()=>{try{U(h=>({...h,isLoading:!0,error:void 0}));const C=await M.readContract({address:P.address,abi:P.abi,functionName:"tokenURI",args:[t]});if(!C&&(o||m)){U(h=>({...h,tokenURI:"",isLoading:!1}));return}let z="";i&&(z=await M.readContract({address:P.address,abi:P.abi,functionName:"ownerOf",args:[t]}),f(z));let ee;if(!i)try{ee=await we(be,{...P,functionName:"isTokenListed",args:[t]})}catch(h){console.warn("Could not load listing status:",h)}let te=m,ae=o;if(C){const h=await K(C);h&&(te=h,ae=h.image)}U({tokenId:t,tokenURI:C,metadata:te,imageUrl:ae,isLoading:!1,isListed:ee})}catch(b){console.error(`Error loading NFT ${t}:`,b),U({tokenId:t,tokenURI:"",imageUrl:o,metadata:m,isLoading:!1,error:`Failed to load NFT #${t}: ${b instanceof Error?b.message:"Unknown error"}`})}})()},[t,i,o,m,M]);const{isLoading:W,isSuccess:q}=xe({hash:y}),{isLoading:V,isSuccess:R}=xe({hash:L});l.useEffect(()=>{q&&setTimeout(()=>{n()},1e3)},[q,n]),l.useEffect(()=>{R&&s&&p("Listing status updated successfully!","success")},[R,s,p]);const X=()=>{r.imageUrl&&a({src:r.imageUrl,alt:r.metadata?.name||`Artwork #${r.tokenId}`,title:r.metadata?.name,description:r.metadata?.description})},le=async()=>{if(r.imageUrl)try{const b=await(await fetch(r.imageUrl)).blob(),C=window.URL.createObjectURL(b),z=document.createElement("a");z.href=C,z.download=`${r.metadata?.name||`Artwork-${r.tokenId}`}.png`,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(C)}catch(k){console.error("Download failed:",k),p("Download failed. Please try again.","error")}},de=async()=>{const b=`https://opensea.io/item/optimism/${P.address}/${r.tokenId}`;try{await navigator.clipboard.writeText(b),p("OpenSea URL copied to clipboard!","success")}catch(C){console.error("Failed to copy URL:",C),window.open(b,"_blank","noopener,noreferrer")}},ue=async()=>{if(!j){S(!0),p(`⚠️ Click Delete again to permanently remove "${r.metadata?.name||`Artwork #${r.tokenId}`}"`,"warning"),setTimeout(()=>{S(!1)},5e3);return}S(!1);try{await u({...P,functionName:"burn",args:[r.tokenId]})}catch(k){console.error("Delete failed:",k),p("Failed to delete artwork. Please try again.","error")}},J=async()=>{if(!s)return;const k=!r.isListed,b=k?"public":"private";try{s(r.tokenId,k),await T({...P,functionName:"setTokenListed",args:[r.tokenId,k]})}catch(C){console.error("Failed to update listing status:",C),s(r.tokenId,!k),p(`Failed to set artwork as ${b}. Please try again.`,"error")}};return e.jsxs("div",{className:`${d.container} ${c?d.highlighted:""}`,children:[r.isLoading?e.jsxs("div",{className:d.loadingContainer,children:[e.jsx("div",{className:Q}),e.jsx("p",{className:d.loadingText,children:"Loading artwork..."})]}):r.error?e.jsxs("div",{className:d.errorContainer,children:[e.jsx("div",{className:d.errorBox,children:e.jsx("p",{className:d.errorText,children:r.error})}),e.jsxs("p",{className:d.tokenIdText,children:["ID: ",r.tokenId.toString()]})]}):e.jsxs(e.Fragment,{children:[r.imageUrl?e.jsxs("div",{className:d.imageContainer,children:[e.jsx("img",{src:r.imageUrl,alt:r.metadata?.name||`${D} #${r.tokenId}`,className:d.image,onClick:X,style:{cursor:"pointer"},onError:k=>{const b=k.target;b.style.display="none",b.nextElementSibling.classList.remove("hidden")}}),e.jsx("div",{className:d.imageError,style:{display:"none"},children:"Image not available"})]}):e.jsx("div",{className:d.imagePlaceholder,children:"No image available"}),e.jsx("h3",{className:d.title,children:r.metadata?.name||`Artwork #${r.tokenId}`}),r.metadata?.description&&e.jsx("p",{className:d.description,children:r.metadata.description}),e.jsxs("div",{className:d.footer,children:[e.jsxs("span",{children:["ID: ",r.tokenId.toString()]}),!i&&s&&r.isListed!==void 0&&e.jsxs("label",{className:d.checkboxLabel,title:`${r.isListed?"NFT is publicly listed":"NFT is private"}`,children:[e.jsx("input",{type:"checkbox",checked:r.isListed,onChange:J,disabled:$||V,className:d.checkbox}),I]}),i&&v&&e.jsxs("span",{title:`Owned by ${v}`,children:["Owner: ",v.slice(0,6),"...",v.slice(-4)]})]}),e.jsxs("div",{className:d.actions,children:[r.imageUrl&&e.jsx("button",{onClick:X,className:d.compactSecondaryButton,title:"View full size",children:"🔍 Zoom"}),r.imageUrl&&e.jsxs("button",{onClick:le,className:d.compactPrimaryButton,title:"Download image",children:["⬇️ ",E]}),e.jsxs("button",{onClick:de,className:d.compactSecondaryButton,title:"Share your artwork on the marketplace",children:["📤 ",_]}),i&&e.jsx(dt,{genImTokenId:r.tokenId}),!i&&e.jsx("button",{onClick:ue,disabled:g||W,className:`${d.compactSecondaryButton} ${g||W?"":qe}`,title:"Delete artwork (permanent)",style:{opacity:g||W?.6:1},children:g?"🗑️ Deleting...":W?"⏳ Confirming...":`🗑️ ${G}`})]})]}),N]})}function Ee({image:t,onClose:a}){const{showToast:n,ToastComponent:s}=Pe();l.useEffect(()=>{const i=o=>{o.key==="Escape"&&a()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[a]);const c=async()=>{try{const o=await(await fetch(t.src)).blob(),m=window.URL.createObjectURL(o),u=document.createElement("a");u.href=m,u.download=`${t.title||"NFT-image"}.png`,document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}catch(i){console.error("Download failed:",i),n("Download failed. Please try again.","error")}};return e.jsxs("div",{className:d.modalOverlay,onClick:a,children:[e.jsxs("div",{className:d.modalContent,onClick:i=>i.stopPropagation(),children:[e.jsx("button",{className:d.modalClose,onClick:a,children:"✕"}),e.jsx("img",{src:t.src,alt:t.alt,className:d.modalImage}),(t.title||t.description)&&e.jsxs("div",{className:d.modalInfo,children:[t.title&&e.jsx("h3",{className:d.modalTitle,children:t.title}),t.description&&e.jsx("p",{className:d.modalDescription,children:t.description}),e.jsx("div",{className:d.actions,style:{justifyContent:"center",marginTop:"12px"},children:e.jsx("button",{onClick:c,className:`${d.actionButton} ${re}`,children:"⬇️ Download Full Size"})})]})]}),s]})}function ut({newlyCreatedNFT:t,onNewNFTDisplayed:a}){const{address:n,isConnected:s}=Z(),c=ce(),[i,o]=l.useState([]),[m,u]=l.useState(!1),[g,y]=l.useState(null),[T,$]=l.useState(null),{data:L,isLoading:j}=ie({...P,functionName:"balanceOf",args:n?[n]:void 0,chainId:c.id,query:{enabled:!!n&&s}}),S=l.useCallback(async()=>{if(!s||!n){o([]);return}u(!0);try{const f=await we(be,{...P,functionName:"balanceOf",args:[n]});if(!f||f===0n){o([]);return}const p=[];for(let I=0;I<Number(f);I++){const E=(async()=>{try{return await we(be,{...P,functionName:"tokenOfOwnerByIndex",args:[n,BigInt(I)]})}catch(_){return console.error(`Error loading token ID at index ${I}:`,_),0n}})();p.push(E)}const D=(await Promise.all(p)).filter(I=>I>0n).sort((I,E)=>E>I?1:E<I?-1:0);o(D)}catch(f){console.error("Error loading token IDs:",f),o([])}finally{u(!1)}},[s,n]),r=l.useCallback(f=>{y(f),o(p=>p.includes(f)?p:[f,...p]),setTimeout(()=>{y(null),a?.()},5e3)},[a]),U=l.useCallback((f,p)=>{console.log(`NFT ${f} listing status changed to: ${p}`)},[]);l.useEffect(()=>{s&&n&&S()},[n,s,S]),l.useEffect(()=>{t&&r(t.tokenId)},[t,r]);const v=j||m;return s?v&&i.length===0?e.jsxs("div",{className:O.loadingContainer,children:[e.jsx("div",{className:Q}),e.jsx("p",{children:"Loading your artworks..."})]}):L===0n||!L?e.jsx("div",{className:O.emptyStateContainer,children:e.jsx("p",{className:O.emptyStateText,children:"You haven't created any artworks yet. Use the generator above to create your first one!"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:O.grid,children:i.map((f,p)=>{const N=t?.tokenId===f,D=N?t.imageUrl:void 0,I=N?t.metadata:void 0;return e.jsx(Le,{tokenId:f,onImageClick:$,onNftBurned:()=>S(),onListedStatusChanged:U,isHighlighted:g===f,isPublicView:!1,preloadedImageUrl:D,preloadedMetadata:I},`my-${f}-${p}`)})}),T&&e.jsx(Ee,{image:T,onClose:()=>$(null)})]}):e.jsxs("div",{className:O.walletPrompt,children:[e.jsx("h3",{children:"🔗 Connect Your Wallet"}),e.jsx("p",{children:"To view and manage your personal NFT artworks, please connect your wallet using the button above."}),e.jsx("p",{children:"Your artworks are stored on the blockchain and linked to your wallet address."}),e.jsx("p",{style:{marginTop:"1rem",fontSize:"0.9em",opacity:.8},children:"💡 Tip: You can explore public artworks from other users in the “All Public Artworks” tab without connecting your wallet."})]})}function mt(){const[t,a]=l.useState([]),[n,s]=l.useState(!1),[c,i]=l.useState(null),o=Ie(),m=l.useCallback(async()=>{s(!0);try{const u=await o.readContract({address:P.address,abi:P.abi,functionName:"getAllPublicTokens"});if(!u||u.length===0){a([]);return}const g=u.sort((y,T)=>T>y?1:T<y?-1:0);a(g)}catch(u){console.error("Error loading public token IDs:",u),a([])}finally{s(!1)}},[o]);return l.useEffect(()=>{m()},[m]),n&&t.length===0?e.jsxs("div",{className:O.loadingContainer,children:[e.jsx("div",{className:Q}),e.jsx("p",{children:"Loading public artworks..."})]}):t.length===0?e.jsx("div",{className:O.emptyStateContainer,children:e.jsx("p",{className:O.emptyStateText,children:"No public artworks available yet."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:O.grid,children:t.map((u,g)=>e.jsx(Le,{tokenId:u,onImageClick:i,onNftBurned:()=>{},isHighlighted:!1,isPublicView:!0},`public-${u}-${g}`))}),c&&e.jsx(Ee,{image:c,onClose:()=>i(null)})]})}function ht({newlyCreatedNFT:t,onNewNFTDisplayed:a,activeTab:n,onTabChange:s}={}){const{address:c,isConnected:i}=Z(),[o,m]=l.useState(()=>i?"my":"public"),u=n??o,g=s??m,y=ie({...P,functionName:"balanceOf",args:c?[c]:void 0,chainId:ce().id,query:{enabled:!!c&&i}}),{data:T,refetch:$}=y;l.useEffect(()=>{t&&$&&$()},[t,$]);const L=w({label:"imagegen.myArtworks"}),j=w({label:"imagegen.allPublicArtworks"});return e.jsxs("div",{className:O.container,children:[e.jsx("div",{className:H.container,children:e.jsxs("div",{className:H.tabList,children:[e.jsx(ve,{label:i?`${L} (${T?.toString()||"0"})`:L,isActive:u==="my",onClick:()=>g("my")}),e.jsx(ve,{label:j,isActive:u==="public",onClick:()=>g("public")})]})}),e.jsx("div",{className:`${H.tabPanel} ${u==="my"?"":H.hiddenPanel}`,children:e.jsx(ut,{newlyCreatedNFT:t,onNewNFTDisplayed:a})}),e.jsx("div",{className:`${H.tabPanel} ${u==="public"?"":H.hiddenPanel}`,children:e.jsx(mt,{})})]})}function gt(){const{isConnected:t}=Z(),[a,n]=l.useState(null),[s,c]=l.useState(()=>t?"my":"public"),i=(g,y,T)=>{console.log("Image generation succeeded:",{tokenId:g,imageUrl:y,metadata:T}),n({tokenId:g,imageUrl:y,metadata:T}),t&&c("my")},o=g=>{console.error("Image generation failed:",g)},m=()=>{n(null)},u=g=>{c(g)};return e.jsxs("div",{className:Ve,children:[e.jsx(ct,{onSuccess:i,onError:o}),e.jsx(ht,{newlyCreatedNFT:a??void 0,onNewNFTDisplayed:m,activeTab:s,onTabChange:u})]})}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"}));function pt(){return"AI Image Generator"}const bt=Object.freeze(Object.defineProperty({__proto__:null,title:pt},Symbol.toStringTag,{value:"Module"})),St={serverOnlyHooks:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!1}},isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:et}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Je}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Xe}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/imagegen/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ft}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:Ke}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/imagegen/+title.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:bt}},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-query/__internal/integration/Wrapper",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:Ze}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:Qe}},FallbackErrorBoundary:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react-query/__internal/integration/FallbackErrorBoundary",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:Ye}}};export{St as configValuesSerialized};
